(window.webpackJsonpdiscoargentina_store_theme_8_0_154=window.webpackJsonpdiscoargentina_store_theme_8_0_154||[]).push([["NewsletterSuscribed"],{0:function(e,t){e.exports=React},11:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.order-manager@0.x/OrderForm"]},19:function(e,t){e.exports=regeneratorRuntime},308:function(e,t,r){e.exports={hideNewsletter:"discoargentina-store-theme-I6vXuzI33C0dh1dRjZZ5z"}},559:function(e,t,r){"use strict";r.r(t),function(e){var t=r(2);r.p=Object(t.getPublicPath)("discoargentina.store-theme@8.0.154");var n=Object(t.register)((function(){return r(792)}),e,"discoargentina.store-theme@8.0.154","discoargentina.store-theme@8.x","NewsletterSuscribed");n.renderHotReload,n.setupHMR}.call(this,r(7)(e))},792:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r.n(n),a=r(4),s=r(0),c=r(11),i=r(308),u=r.n(i),l=function(){var e=Object(c.useOrderForm)().orderForm;return Object(s.useEffect)((function(){var t,r=document.querySelector(".vtex-flex-layout-0-x-flexRow--footer-desktop-newsletter-row"),n=function(){var e=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.classList.add(u.a.hideNewsletter);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==r||r.classList.remove(u.a.hideNewsletter);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/dataentities/CL/search?email=".concat(t,"&_fields=isNewsletterOptIn"),{method:"GET",headers:{"Content-Type":"application/json","REST-Range":"resources=0-999"}}).then((function(e){return e.json()})).then((function(e){if(null!==e){var t,r=JSON.stringify(null===(t=e[0])||void 0===t?void 0:t.isNewsletterOptIn);"true"===r?(localStorage.setItem("suscribedToNL","true"),n()):"false"===r&&(localStorage.setItem("suscribedToNL","false"),s())}})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.loggedIn?c(null==e||null===(t=e.clientProfileData)||void 0===t?void 0:t.email):"true"===localStorage.getItem("suscribedToNL")?n():"false"===localStorage.getItem("suscribedToNL")&&s()}),[e.loggedIn]),React.createElement(React.Fragment,null)};t.default=l}},[[559,"common"]]]);