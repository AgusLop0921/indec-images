(window.webpackJsonpdiscoargentina_store_theme_8_0_154=window.webpackJsonpdiscoargentina_store_theme_8_0_154||[]).push([["MainBannerPLP"],{0:function(e,t){e.exports=React},216:function(e,t){e.exports=Classnames},28:function(e,t,i){"use strict";var n=i(6),a=i.n(n);t.a=function(){var e=a()().push;function t(e){if(null==e?void 0:e.includes("/")){var t=null==e?void 0:e.split("/");return t[t.length-1]}return e}return{sendDataLayerClick:function(i,n,a,o,r){var l={event:"promotionClickRefactored",url:t(i),id:n,alt:a,section:o,urlBanner:r};e(l)}}}},288:function(e,t,i){e.exports={mainBannerplpContainer:"discoargentina-store-theme-8-x-mainBannerplpContainer","slick-active":"discoargentina-store-theme-8-x-slick-active"}},34:function(e,t,i){"use strict";var n=i(6),a=i.n(n);t.a=function(){var e=a()().push;return{sendDataLayerView:function(t,i,n,a){e({event:"promotionViewRefactored",url:t,id:i,alt:n,section:a})}}}},5:function(e,t){e.exports=__RENDER_8_RUNTIME__},528:function(e,t,i){"use strict";i.r(t),function(e){var t=i(2);i.p=Object(t.getPublicPath)("discoargentina.store-theme@8.0.154");var n=Object(t.register)((function(){return i(691)}),e,"discoargentina.store-theme@8.0.154","discoargentina.store-theme@8.x","MainBannerPLP");n.renderHotReload,n.setupHMR}.call(this,i(7)(e))},6:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.pixel-manager@1.x/usePixel"]},691:function(e,t,i){"use strict";i.r(t);var n=i(5),a=i(17),o=i(13),r=i(0),l=i(203),s=i.n(l),c=Object(r.createContext)({avaliablesBanners:[]}),u=function(e){var t,i=e.banners,a=void 0===i?[]:i,o=e.children,l=Object(n.useRuntime)(),s=l.query,u=l.route,m=((null==s?void 0:s.evento)||"").toLowerCase().trim(),p=(null===(t=((null==u?void 0:u.path)||"").split("/")[1])||void 0===t?void 0:t.toLowerCase())||"",d=Object(r.useMemo)((function(){var e=a.filter((function(e){return t=e.initialDate,i=e.expiredDate,n=new Date,a=new Date(t),o=new Date(i),!(n.getTime()<a.getTime())&&n.getTime()<=o.getTime();var t,i,n,a,o}));return m?e.filter((function(e){return(e.evento||"").toLowerCase().trim()===m})):p?e.filter((function(e){return e.categoria&&e.categoria.toLowerCase()===p||!e.categoria&&!e.evento})):e.filter((function(e){return!e.evento&&!e.categoria}))}),[a,m,p]);return React.createElement(c.Provider,{value:{avaliablesBanners:d}},o)},m=i(28),p=i(288),d=i.n(p),g=function(e){var t=Object(n.useRuntime)().deviceInfo.isMobile,i=e.imageDesktop,o=e.imageMobile,r=e.imageTextAlt,l=e.imageTitle,s=e.attributeNoFollow,c=e.attributeTitle,u=e.openInNewTab,p=e.url,g=e.imageWidth,v=e.imageMaxheigth,b=e.analyticsEvent,f=e.promotionId,y=e.promotionName,w=e.positionCreative,h=e.blockClass,k=Object(m.a)().sendDataLayerClick,x=(i||"").trim(),E=(o||"").trim(),O=(t?E:x)||x||E;if(!O)return null;var R="string"==typeof p&&""!==p.trim(),S=R?function(e){if(!e)return"";var t=e.trim();return/^https?:\/\//i.test(t)||t.startsWith("/")?t:"/".concat(t)}(p):"",T={style:{maxHeight:v}},C={title:l,className:"imageElement ".concat(h||""),crossOrigin:"anonymous",alt:r||"",src:O,srcSet:"",style:{width:g,maxHeight:v}},D=function(e){if(R)if(e.preventDefault(),b&&k(O,f,y,w,S),u){var t=/^https?:\/\//i.test(S)?S:"".concat(window.location.origin).concat(S);window.open(t,"_blank","noopener,noreferrer")}else window.location.href=S};return React.createElement("div",Object(a.a)({className:d.a.banner},T),t?React.createElement("div",{className:"main-banner-mobile"},R?React.createElement("a",{href:S,target:u?"_blank":"_self",rel:s?"nofollow noopener noreferrer":"noopener noreferrer",title:c,className:"imageElementLink",style:{display:"block",width:g,maxHeight:v},onClick:D},React.createElement("img",Object(a.a)({},C,{style:{width:"100%",height:"auto"}}))):React.createElement("img",Object(a.a)({},C,{style:{width:"100vw",height:"auto"}}))):React.createElement("div",{className:"main-banner-desktop-plp"},R?React.createElement("a",{href:S,target:u?"_blank":"_self",rel:s?"nofollow noopener noreferrer":"noopener noreferrer",title:c,className:"imageElementLink",style:{display:"block",width:g,maxHeight:v},onClick:D},React.createElement("img",Object(a.a)({},C,{style:{width:"100vw"}}))):React.createElement("img",Object(a.a)({},C,{style:{width:"100vw"}}))))},v=(i(234),i(235),i(34)),b=function(e){var t=e.blockClass,i=e.arrows,n=e.dots,l=e.infinite,u=e.slidesToShow,m=e.slidesToScroll,p=e.pauseOnHover,b=e.autoplay,f=e.autoplaySpeed,y=Object(r.useContext)(c).avaliablesBanners,w=Object(v.a)().sendDataLayerView,h=(y||[]).filter((function(e){return e.imageDesktop&&e.imageDesktop.trim()||e.imageMobile&&e.imageMobile.trim()}));if(0===h.length)return null;function k(e){var t=null==e?void 0:e.lastIndexOf("/");return null==e?void 0:e.substring(0,t+1)}function x(e){var t=e.getBoundingClientRect();return t.top<(window.innerHeight||document.documentElement.clientHeight)&&t.bottom>0}Object(r.useEffect)((function(){var e=document.querySelector(".slick-track"),t=setInterval((function(){var i=null==e?void 0:e.querySelector(".slick-current"),n=null==i?void 0:i.querySelector("img");if(i&&(null==n?void 0:n.src)){clearInterval(t);var a=n.src,o=h[0]||{},r=o.promotionId,l=o.promotionName,s=o.positionCreative,c=k(o.imageDesktop);x(i)&&w(a,r,l,s,c)}}),500),i=new MutationObserver((function(e){e.forEach((function(e){var t=e.target;if(t.classList.contains("slick-current")&&x(t)){var i=Object(o.a)(t.parentNode.children).indexOf(t),n=t.querySelector("img");if((null==n?void 0:n.src)&&h[i]){var a=h[i],r=a.promotionId,l=a.promotionName,s=a.positionCreative,c=k(a.imageDesktop);w(n.src,r,l,s,c)}}}))}));return e&&i.observe(e,{attributes:!0,subtree:!0,attributeFilter:["class"]}),function(){clearInterval(t),i.disconnect()}}),[h.length,w]);var E={arrows:i,dots:n,infinite:l,slidesToShow:u,slidesToScroll:m,pauseOnHover:p,autoplay:b,autoplaySpeed:f,responsive:[{breakpoint:1024,settings:{arrows:!1}}]};return React.createElement("div",{className:d.a.mainBannerplpContainer+" "+(t||"")},React.createElement(s.a,E,h.map((function(e,i){return React.createElement(g,Object(a.a)({},e,{key:String(i),blockClass:t}))}))))},f=new Date,y=new Date;y.setDate(y.getDate()+1);var w=[{imageDesktop:"",imageMobile:"",imageTextAlt:"",imageTitle:"",attributeNoFollow:!1,attributeTitle:"",openInNewTab:!1,url:"",imageWidth:"",imageMaxheigth:"",analyticsEvent:!1,promotionId:"",promotionName:"",positionCreative:"",evento:"",categoria:"",initialDate:f.toISOString(),expiredDate:y.toISOString()}],h={title:"Main Banner PLP",type:"object",properties:{arrows:{type:"boolean",title:"Mostrar flechas",default:!0},dots:{type:"boolean",title:"Mostrar puntos",default:!0},infinite:{type:"boolean",title:"Scroll infinito",default:!0},pauseOnHover:{type:"boolean",title:"Pausar al pasar mouse",default:!0},autoplay:{type:"boolean",title:"Autoplay",default:!0},autoplaySpeed:{type:"number",title:"Velocidad autoplay (ms)",default:7e3},slidesToShow:{type:"number",title:"Slides visibles",default:1},slidesToScroll:{type:"number",title:"Slides por scroll",default:1},banners:{type:"array",title:"Banners",default:w,items:{type:"object",title:"Banner",properties:{__editorItemTitle:{type:"string",title:"Nombre interno",default:"Banner"},imageDesktop:{type:"string",title:"Imagen desktop",widget:{"ui:widget":"image-uploader"}},imageMobile:{type:"string",title:"Imagen mobile",widget:{"ui:widget":"image-uploader"}},imageTextAlt:{type:"string",title:"Texto alternativo"},imageTitle:{type:"string",title:"Título"},attributeNoFollow:{type:"boolean",title:"No-follow"},attributeTitle:{type:"string",title:"Atributo title"},openInNewTab:{type:"boolean",title:"Abrir en nueva pestaña"},url:{type:"string",title:"URL destino"},imageWidth:{type:"string",title:"Ancho (px o %)"},imageMaxheigth:{type:"string",title:"Alto máximo (px)"},analyticsEvent:{type:"boolean",title:"Activar evento analytics"},promotionId:{type:"string",title:"ID promoción"},promotionName:{type:"string",title:"Nombre promoción"},positionCreative:{type:"string",title:"Posición creativa"},evento:{type:"string",title:"Evento (opcional)",description:"Si la URL contiene ?evento=<nombre> y coincide EXACTO (sin distinguir mayúsc/minúsc), este banner se mostrará. Si está vacío solo aparece cuando NO hay parámetro “evento”."},categoria:{type:"string",title:"Slug de categoría (opcional, ej: electro, bebidas, lacteos)",description:'Si se completa, este banner solo se muestra en esa categoría (url como /electro, /bebidas, /lacteos). Debe estar en minúsculas y sin "/" inicial.'},initialDate:{type:"string",title:"Fecha de inicio",format:"date-time",widget:{"ui:widget":"datetime"}},expiredDate:{type:"string",title:"Fecha de expiración",format:"date-time",widget:{"ui:widget":"datetime"}}}}}}},k=function(e){var t=e.banners,i=e.blockClass,a=void 0===i?"":i,o=Object(n.useRuntime)(),r=o.query,l=(o.route,null==r?void 0:r.map);return"productClusterIds"===l||(!l||"c"===l)?React.createElement(u,{banners:t},React.createElement(b,{blockClass:a,arrows:e.arrows,dots:e.dots})):null};k.defaultProps={arrows:!1,dots:!1,infinite:!1,pauseOnHover:!1,autoplay:!1,autoplaySpeed:7e3,slidesToShow:1,slidesToScroll:1,banners:w},k.schema=h;var x=k;t.default=x}},[[528,"common",3]]]);