(window.webpackJsonpvtex_search_result_3_140_0=window.webpackJsonpvtex_search_result_3_140_0||[]).push([[10],{110:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(5),a=n.n(i),u=n(64),c=n.n(u),l=n(21),d=n.n(l),s=n(6),f=n.n(s),v=n(14),m=n.n(v),p=n(65),y=n.n(p),E=n(3),b=n(7),_=n.n(b),h=n(54),O=n(20),S=n(26),w=n.n(S),L=n(66),R=n.n(L),g=function(e){var t,n,i=e.GalleryItemComponent,a=e.item,u=e.displayMode,c=e.summary,l=e.position,d=e.listName,s=e.preferredSKU,f=w()().push,v=Object(b.useSearchPage)().searchQuery,m=Object(r.useMemo)((function(){return R.a.mapCatalogProductToProductSummary(a,s)}),[a,s]),p=Object(r.useCallback)((function(){var e,t;f({event:"productClick",product:m,query:null===(e=null==v?void 0:v.variables)||void 0===e?void 0:e.query,map:null===(t=null==v?void 0:v.variables)||void 0===t?void 0:t.map,position:l,list:d})}),[m,f,null===(t=null==v?void 0:v.variables)||void 0===t?void 0:t.map,null===(n=null==v?void 0:v.variables)||void 0===n?void 0:n.query,l,d]);return o.a.createElement(i,Object(O.a)({},c,{product:m,displayMode:u,actionOnClick:p,listName:d,position:l}))},T=Object(r.memo)(g),C=["galleryItem"],A=function(e){var t,n,r=e.GalleryItemComponent,i=e.displayMode,u=e.itemsPerRow,c=e.lazyRender,l=e.products,d=e.summary,s=e.currentLayoutName,v=e.rowIndex,p=e.listName,y=e.preferredSKU,E=Object(b.useSearchPage)().searchQuery,_=f()(C),O={flexBasis:"".concat(100/u,"%"),maxWidth:"".concat(100/u,"%")},S=Object(h.a)({lazyRender:c,offset:900}),w=S.hasBeenViewed,L=S.dummyElement;if(!w)return L;var R=null===(n=null===(t=null==E?void 0:E.data)||void 0===t?void 0:t.productSearch)||void 0===n?void 0:n.searchId;return o.a.createElement(o.a.Fragment,null,l.map((function(e,t){var n=v*u+t+1;return o.a.createElement("div",{"data-af-onclick":!!R||void 0,"data-af-search-id":R,"data-af-product-position":n,key:e.cacheId,style:O,className:a()(m()(_.galleryItem,[i,s]),"pa4")},o.a.createElement(T,{GalleryItemComponent:r,item:e,summary:d,displayMode:i,position:n,listName:p,preferredSKU:y}))})))},j=Object(r.memo)(A),I=n(25),P=n(79),Y=n(13),U=n(52),x=n(53),G=["gallery"],M=c.a.ProductListProvider,N=_.a.useSearchPageState,F=_.a.useSearchPageStateDispatch;t.default=function(e){var t,n=e.layouts,i=e.lazyItemsRemaining,u=e.products,c=e.showingFacets,l=e.summary,s=e.preferredSKU,v=e.slots,p=(Object(r.useContext)(I.a)||{}).trackingId,b=f()(G),_=Object(E.useRuntime)().getSettings,h=N().selectedGalleryLayout,O=F(),S=Object(U.a)(),w=Object(x.a)(null!=S?S:[],{matchFt:!0}).trim(),L=p||w||"Search result";Object(r.useEffect)((function(){O({type:Y.SET_GALLERY_LAYOUTS_TYPE,args:{galleryLayouts:n}})}),[n,O]);var R=Object(r.useMemo)((function(){var e;return h?e=n.find((function(e){return e.name===h})):console.error("No default gallery layout defined. Set it in search-result-layout by using the defaultGalleryLayout prop."),e||(e=n[0],O({type:Y.SWITCH_GALLERY_LAYOUT_TYPE,args:{selectedGalleryLayout:n[0].name,focus:!1}})),e}),[h,n,O]),g=y()(R.itemsPerRow),T=Object(r.useMemo)((function(){for(var e=[],t=0;t*g<u.length;){var n=t*g,r=(t+1)*g;e.push(u.slice(n,r)),t++}return e}),[g,u]);if(!n||0===n.length)return null;if(!v[R.component])return console.error('Define a Slot with name "'.concat(R.component,'" for the layout "').concat(R.name,'".')),null;var C=a()(m()(b.gallery,R.name),"flex flex-row flex-wrap items-stretch bn ph1 na4",c?"pl9-l":"justify-center"),A=null===(t=_("vtex.store"))||void 0===t?void 0:t.enableSearchRenderingOptimization;return o.a.createElement(M,{listName:L},o.a.createElement("div",{id:"gallery-layout-container",className:C},T.map((function(e,t){return o.a.createElement(j,{key:"".concat(R.name,"-").concat(t),products:e,lazyRender:!!A&&t>=2,summary:l,displayMode:"normal",itemsPerRow:g,currentLayoutName:R.name,rowIndex:t,listName:L,preferredSKU:s,GalleryItemComponent:v[R.component]})})),"number"==typeof i&&i>0&&o.a.createElement("div",{style:{width:"100%",height:300*Math.ceil(i/g)},className:"flex justify-center pt10"},o.a.createElement(d.a,null))),o.a.createElement(P.a,null))}},13:function(e,t,n){"use strict";n.r(t),n.d(t,"MAP_CATEGORY_CHAR",(function(){return r})),n.d(t,"MAP_BRAND_CHAR",(function(){return o})),n.d(t,"MAP_QUERY_KEY",(function(){return i})),n.d(t,"FULLTEXT_QUERY_KEY",(function(){return a})),n.d(t,"SELLER_QUERY_KEY",(function(){return u})),n.d(t,"PRODUCT_CLUSTER_IDS",(function(){return c})),n.d(t,"MAP_VALUES_SEP",(function(){return l})),n.d(t,"PATH_SEPARATOR",(function(){return d})),n.d(t,"SPACE_REPLACER",(function(){return s})),n.d(t,"FILTER_TITLE_SEP",(function(){return f})),n.d(t,"SPEC_FILTER",(function(){return v})),n.d(t,"SPEC_FILTERS",(function(){return m})),n.d(t,"SET_GALLERY_LAYOUTS_TYPE",(function(){return p})),n.d(t,"SWITCH_GALLERY_LAYOUT_TYPE",(function(){return y})),n.d(t,"SET_FOCUS_GALLERY_LAYOUT_TYPE",(function(){return E})),n.d(t,"ASC",(function(){return b})),n.d(t,"DESC",(function(){return _}));var r="c",o="b",i="map",a="ft",u="seller",c="productClusterIds",l=",",d="/",s="-",f="_",v="specificationFilter",m="SpecificationFilters",p="SET_GALLERY_LAYOUTS",y="SWITCH_GALLERY_LAYOUT",E="SET_FOCUS_GALLERY_LAYOUT",b="ASC",_="DESC"},24:function(e,t,n){"use strict";var r=n(0),o=Object(r.createContext)({lol:"a"});t.a=o},25:function(e,t,n){"use strict";var r=n(0),o=Object(r.createContext)({});t.a=o},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7);function o(){var e,t,n,o,i=Object(r.useSearchPage)().searchQuery;return(null===(t=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.productSearch)||void 0===t?void 0:t.breadcrumb)||(null===(o=null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.facets)||void 0===o?void 0:o.breadcrumb)}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(11),o=n(0),i=n(24);var a=function(e,t){if(function(e){return"b"===e[0]}(e))return 0;if(t){var n=e.findIndex((function(e){return"ft"===e}));if(n>=0)return n}var o=e.findIndex((function(e){return"productClusterIds"===e}));return o>=0?o:function(e){var t=Object(r.a)(e).reverse().findIndex((function(e){return"c"===e||e.startsWith("category-")}));return-1===t?t:e.length-1-t}(e)};function u(e,t){var n,r,u=Object(o.useContext)(i.a).map,c=Boolean(null==t?void 0:t.matchFt),l=Object(o.useMemo)((function(){if(!u)return-1;var e=u.split(",");return a(e,c)}),[u,c]),d="";return l>=0?d=null!==(n=function(e,t){var n;return null===(n=t[e])||void 0===n?void 0:n.name}(l,e))&&void 0!==n?n:"":(null==t?void 0:t.fallbackToLastName)&&(d=null!==(r=function(e){var t;if(0!==e.length)return null===(t=e[e.length-1])||void 0===t?void 0:t.name}(e))&&void 0!==r?r:""),Object(o.useMemo)((function(){try{return decodeURIComponent(d)}catch(e){return d}}),[d])}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),o=n(0),i=n.n(o),a=function(e){var t=e.lazyRender,n=void 0!==t&&t,a=e.height,u=void 0===a?400:a,c=e.offset,l=void 0===c?200:c,d=e.waitForUserInteraction,s=void 0===d||d,f=Object(o.useRef)(null),v=Object(o.useState)(!1),m=Object(r.a)(v,2),p=m[0],y=m[1];return function(e){var t=e.ref,n=e.onView,i=e.threshold,a=void 0===i?0:i,u=e.once,c=void 0!==u&&u,l=e.bailOut,d=void 0!==l&&l,s=e.initializeOnInteraction,f=void 0!==s&&s,v=Object(o.useRef)(!1),m=Object(o.useRef)(!1);Object(o.useEffect)((function(){var e,o,i=function(){var e=t.current;if(d||v.current||!e||!n||c&&m.current)return function(){};v.current=!0;var o=function(){v.current&&(i.unobserve(e),v.current=!1)},i=new IntersectionObserver((function(e){var t=Object(r.a)(e,1)[0];t.isIntersecting&&(t.intersectionRatio<a||(c&&o(),m.current=!0,n({entry:t,unobserve:o})))}));return i.observe(e),o};if(f){var u=function(){var e,t;null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.removeEventListener("scroll",s),null===(t=null===window||void 0===window?void 0:window.document)||void 0===t||t.removeEventListener("mouseover",s)},l=function(){u()},s=function(){u(),l=i()};return window.pageYOffset>0&&s(),null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.addEventListener("scroll",s),null===(o=null===window||void 0===window?void 0:window.document)||void 0===o||o.addEventListener("mouseover",s),l}return i()}),[d,f,n,c,t,a])}({ref:f,onView:function(){return y(!0)},once:!0,initializeOnInteraction:s,bailOut:!n}),{hasBeenViewed:p||!n,dummyElement:i.a.createElement("div",{style:{width:"100%",height:u,position:"relative"}},i.a.createElement("div",{ref:f,style:{top:-l,bottom:0,left:0,right:0,position:"absolute"}}))}}},79:function(e,t,n){"use strict";var r=n(67),o=n.n(r);t.a=function(){return o()(),null}}}]);