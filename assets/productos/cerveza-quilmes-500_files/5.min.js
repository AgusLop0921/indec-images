(window.webpackJsonpdiscoargentina_search_result_custom_1_0_9=window.webpackJsonpdiscoargentina_search_result_custom_1_0_9||[]).push([[5],{11:function(e,t,r){"use strict";r.r(t),r.d(t,"MAP_CATEGORY_CHAR",(function(){return n})),r.d(t,"MAP_BRAND_CHAR",(function(){return a})),r.d(t,"MAP_QUERY_KEY",(function(){return c})),r.d(t,"FULLTEXT_QUERY_KEY",(function(){return u})),r.d(t,"SELLER_QUERY_KEY",(function(){return i})),r.d(t,"PRODUCT_CLUSTER_IDS",(function(){return o})),r.d(t,"MAP_VALUES_SEP",(function(){return s})),r.d(t,"PATH_SEPARATOR",(function(){return f})),r.d(t,"SPACE_REPLACER",(function(){return l})),r.d(t,"FILTER_TITLE_SEP",(function(){return d})),r.d(t,"SPEC_FILTER",(function(){return p})),r.d(t,"SPEC_FILTERS",(function(){return b})),r.d(t,"SET_GALLERY_LAYOUTS_TYPE",(function(){return O})),r.d(t,"SWITCH_GALLERY_LAYOUT_TYPE",(function(){return h})),r.d(t,"SET_FOCUS_GALLERY_LAYOUT_TYPE",(function(){return v})),r.d(t,"ASC",(function(){return y})),r.d(t,"DESC",(function(){return j}));var n="c",a="b",c="map",u="ft",i="seller",o="productClusterIds",s=",",f="/",l="-",d="_",p="specificationFilter",b="SpecificationFilters",O="SET_GALLERY_LAYOUTS",h="SWITCH_GALLERY_LAYOUT",v="SET_FOCUS_GALLERY_LAYOUT",y="ASC",j="DESC"},37:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=10},45:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return l}));var n=r(13),a=r(1),c=r(11);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=function(e,t){var r=e&&e.split(c.PATH_SEPARATOR)||[],n=t&&t.split(c.MAP_VALUES_SEP)||[],u=Object(a.zipObj)(n,r);return{ft:u.ft,productClusterIds:u.productClusterIds,seller:u.seller}},s=function(e,t,r){if(!t||!e)return[];var n,a=e.split("/"),c=decodeURIComponent(t).split(","),u=a.length>=c.length?c.map((function(e,t){if("ft"===e)try{n=decodeURI(a[t])}catch(e){n=a[t]}return{key:c[t],value:a[t]}})):[];return r&&u.push({key:"priceRange",value:r}),[u,n]},f=function(e){e.forEach((function(e){return e.facets.forEach((function(e){return function e(t){t.map=t.key,t.children&&t.children.forEach((function(t){return e(t)}))}(e)}))}));var t=Object(a.groupBy)((function(e){return e.type}))(e);return{brands:Object(a.pathOr)([],["BRAND",0,"facets"],t),brandsQuantity:t&&t.BRAND&&t.BRAND[0]&&null!=t.BRAND[0].quantity?t.BRAND[0].quantity:0,specificationFilters:(t.NUMBER||[]).concat(t.TEXT||[]),categoriesTrees:Object(a.pathOr)([],["CATEGORYTREE",0,"facets"],t),priceRanges:Object(a.pathOr)([],["PRICERANGE",0,"facets"],t).map((function(e){return i(i({},e),{},{slug:"de-".concat(e.range.from,"-a-").concat(e.range.to)})}))}},l=function(e){return e.reduce((function(e,t,r){return e.query+="".concat(r>0?"/":"").concat(t.value),e.map+="".concat(r>0?",":"").concat(t.key),e}),{query:"",map:""})}},98:function(e,t,r){"use strict";var n=r(12),a=r(29),c=r.n(a),u=r(7),i=r(13),o=r(49),s=r(0),f=r(39),l=r(4),d=r(74),p=r.n(d),b=r(75),O=r.n(b),h=r(76),v=r.n(h),y=r(77),j=r.n(y),m=r(1),g=r(45),S=r(37),E=function(){var e=Object(l.useRuntime)().navigate;return{setRedirect:function(t){if(t){var r=/((http(s)?:)?\/\/|www\.)/;if(r.test(t)){var n=t.replace(r,""),a=window.location.origin.replace(/(http(s)?:)?\/\//,"");n.startsWith(a)?e({to:n.replace(a,"")}):window.location.replace(t.replace(/^www/,"https://www"))}else e({to:t})}}}},R=function(){var e=Object(l.useRuntime)().rootPath;return{getSession:Object(s.useCallback)(Object(o.a)(c.a.mark((function t(){var r,n,a,u,i,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(u=new Headers).append("Content-Type","application/json"),i={method:"GET",headers:u,redirect:"follow"},t.next=5,fetch("".concat(e||"","/api/sessions?items=public.shippingOption"),i);case 5:return o=t.sent,t.next=8,o.json();case 8:if(s=t.sent,null===(a=null===(n=null===(r=null==s?void 0:s.namespaces)||void 0===r?void 0:r.public)||void 0===n?void 0:n.shippingOption)||void 0===a?void 0:a.value){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",JSON.parse(s.namespaces.public.shippingOption.value));case 12:case"end":return t.stop()}}),t)}))),[])}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P="Static",A="MAX_WITHOUT_INTEREST",w="ALL_AVAILABLE",L="default",C="OrderByScoreDESC",F=function(e,t){return!!(e&&e.length>0&&t&&t.length>0)},I=function(e,t){return Object(s.useCallback)(function(){var r=Object(o.a)(c.a.mark((function r(n){var a,i,o,s,f,l,d,p,b,O,h,v,y,j,m,S,E,R,_;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n&&(o=n.query,s=n.map,f=n.priceRange,l=n.facetQuery,d=n.facetMap,a=T(T({},n),{},{withFacets:!1}),i={query:n.facetQuery,map:n.facetMap,hideUnavailableItems:n.hideUnavailableItems,behavior:n.facetsBehavior},o&&s&&(p=Object(g.b)(o,s,f),b=Object(u.a)(p,2),O=b[0],h=b[1],a=T(T({},a),{},{selectedFacets:O,fullText:h})),l&&d&&(v=Object(g.b)(l,d,f),y=Object(u.a)(v,2),j=y[0],m=y[1],i=T(T({},i),{},{selectedFacets:j,fullText:m}))),r.next=3,Promise.all([e&&e(a),t&&t(i)]);case 3:return S=r.sent,E=Object(u.a)(S,2),R=E[0],_=E[1],r.abrupt("return",T(T({},R),{},{data:T(T({},R.data||{}),{},{facets:_.data&&_.data.facets}),errors:R.errors||_.errors}));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e,t])},M=function(e,t){return e.current!==t};t.a=function(e){var t,r=e.maxItemsPerPage,a=e.query,i=e.map,d=e.orderBy,b=e.priceRange,h=e.hideUnavailableItems,y=e.facetsBehavior,_=e.categoryTreeBehavior,U=e.pageQuery,x=e.skusFilter,B=e.simulationBehavior,Y=e.installmentCriteria,k=e.excludedPaymentSystems,D=e.includedPaymentSystems,z=e.children,Q=e.operator,q=e.fuzzy,G=e.searchState,N=e.lazyItemsQuery,H=e.__unstableProductOriginVtex,V=e.sponsoredProductsBehavior,W=Object(g.b)(a,i,b),J=Object(u.a)(W,2),K=J[0],X=J[1],Z=Object(s.useState)([]),$=Object(u.a)(Z,2),ee=$[0],te=$[1],re=null===(t=(0,Object(l.useRuntime)().getSettings)("vtex.store"))||void 0===t?void 0:t.enableLazySearchQuery,ne=r>18&&("boolean"==typeof N?N:re),ae=ne?18:r,ce=function(e,t,r,n){var a=Object(s.useRef)(e),c=Object(s.useRef)(t),u=Object(s.useRef)(r),i=Object(s.useRef)(n);return M(a,e)||M(c,t)||M(u,r)||M(i,n)}(a,i,d,b),ue=function(e,t){var r=Object(s.useRef)(e);return t&&(r.current=1),r.current}(U?parseInt(U,10):1,ce),ie=function(e,t,r,n){var a=Object(s.useRef)(n),c=M(a,n),u={fuzzy:c?void 0:e,operator:c?void 0:t,searchState:c?void 0:r};return a.current=n,u}(q,Q,G,X),oe=ie.fuzzy,se=ie.operator,fe=ie.searchState,le=E().setRedirect,de=(ue-1)*r,pe=de+ae-1,be={facetQuery:a,facetMap:i,withFacets:F(i,a)},Oe=R().getSession;Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:(t=e.sent)&&!Object(m.equals)(t,ee)&&te(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ee,Oe,K]);var he=Object(s.useMemo)((function(){return{map:i,query:a,orderBy:d||C,from:de,to:pe,selectedFacets:null==K?void 0:K.concat(ee),fullText:X,operator:se,fuzzy:oe,searchState:fe,excludedPaymentSystems:k,includedPaymentSystems:D,productOriginVtex:!!H,hideUnavailableItems:!!h,facetsBehavior:y||P,categoryTreeBehavior:_,withFacets:!1,skusFilter:x||w,simulationBehavior:B||L,installmentCriteria:Y||A}}),[i,a,d,de,pe,h,y,_,x,B,Y,K,ee,X,se,oe,fe,H,k,D]),ve=function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"skip",c=Object(l.useRuntime)(),u=c.getSettings,i=c.query,o=null===(n=u("vtex.store"))||void 0===n?void 0:n.enableFiltersFetchOptimization,s=Object(f.useQuery)(p.a,{variables:e}),d=Object(f.useQuery)(j.a,{variables:e,skip:"skip"===a}),b=d.data,h=(b=void 0===b?[]:b).sponsoredProducts,y=s.refetch,m=s.loading,E=s.fetchMore,R=Object(f.useQuery)(O.a,{variables:{query:e.query,fullText:e.fullText,selectedFacets:e.selectedFacets}}),_=R.data,A=(_=void 0===_?{}:_).searchMetadata,w=function(){return i&&i.initialMap?i.initialMap:r&&-1===t.facetMap.indexOf("price")?"".concat(t.facetMap,",price"):t.facetMap},L=Object(f.useQuery)(v.a,{variables:{query:t.facetQuery,map:t.facetMap,from:o?0:void 0,to:o?S.a:void 0,fullText:e.fullText,selectedFacets:e.selectedFacets,hideUnavailableItems:e.hideUnavailableItems,behavior:e.facetsBehavior||P,categoryTreeBehavior:e.categoryTreeBehavior,operator:e.operator,fuzzy:e.fuzzy,searchState:e.searchState||void 0,initialAttributes:w()},skip:!t.withFacets}),C=L.data,F=(C=void 0===C?{}:C).facets,M=L.loading,U=L.refetch,x=L.fetchMore,B=I(y,U),Y=F&&F.facets?Object(g.c)(F.facets):{brands:[],brandsQuantity:0,specificationFilters:[],categoriesTrees:[],priceRanges:[]},k=F&&F.queryArgs&&F.queryArgs.selectedFacets,D=k&&Object(g.a)(k),z=s&&s.data&&s.data.productSearch&&s.data.productSearch.redirect;return{loading:m||z,facetsLoading:M,fetchMore:E,data:{productSearch:s.data&&s.data.productSearch,facets:T(T({},Y),{},{queryArgs:D,breadcrumb:F&&F.breadcrumb,facetsFetchMore:x,sampling:null==F?void 0:F.sampling}),searchMetadata:A,sponsoredProducts:h},productSearchResult:s,refetch:B}}(he,be,b,V),ye=ve.data,je=ve.loading,me=ve.refetch,ge=ve.productSearchResult,Se=ve.facetsLoading,Ee=ve.fetchMore,Re=ye&&ye.productSearch&&ye.productSearch.redirect;Object(s.useEffect)((function(){le(Re)}),[Re,le]);var _e=Object(s.useRef)(!1),Te=Object(s.useState)(ne?r-ae:0),Pe=Object(u.a)(Te,2),Ae=Pe[0],we=Pe[1];Object(s.useEffect)((function(){we(ne?r-ae:0)}),[i,a,de,ne,r,ae]),Object(s.useEffect)((function(){if(ne){var e=setTimeout((function(){0===Ae||_e.current||(_e.current=!0,Ee({variables:{from:de+18,to:de+r-1},updateQuery:function(e,t){var r=t.fetchMoreResult;return _e.current=!1,we(0),T(T({},e),{},{productSearch:T(T({},e.productSearch),{},{products:[].concat(Object(n.a)(e.productSearch.products),Object(n.a)(r.productSearch.products))})})}}))}),500);return function(){clearTimeout(e)}}}),[ye,Ee,de,ne,r,Ae,ae]);var Le=Object(s.useMemo)((function(){return T(T(T({},he),be),{},{maxItemsPerPage:r,lazyItemsRemaining:Ae,page:ue,facetsLoading:Se})}),[he,be,r,Ae,ue,Se]);return z(Object(s.useMemo)((function(){return T(T({},ge||{}),{},{variables:he,data:ye,loading:je,refetch:me})}),[ye,je,ge,me,he]),Le)}}}]);