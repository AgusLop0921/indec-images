(window.webpackJsonpdiscoargentina_store_theme_8_0_154=window.webpackJsonpdiscoargentina_store_theme_8_0_154||[]).push([["BuyTogetherTotalPrice"],{0:function(e,t){e.exports=React},382:function(e,t,r){"use strict";r.r(t),function(e){var t=r(2);r.p=Object(t.getPublicPath)("discoargentina.store-theme@8.0.154");var o=Object(t.register)((function(){return r(701)}),e,"discoargentina.store-theme@8.0.154","discoargentina.store-theme@8.x","BuyTogetherTotalPrice");o.renderHotReload,o.setupHMR}.call(this,r(7)(e))},701:function(e,t,r){"use strict";r.r(t);var o=r(13),n=r(10),i=r(1),c=r(0),a=r.n(c);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){var t=e.skuItems,r=Object(c.useState)([]),n=Object(i.a)(r,2),u=n[0],l=n[1],p=t.map((function(e){var t,r,o,n,c=(o=e.skuId,n=e.refId,u&&o&&n?u.filter((function(e){var t,r,i,c=null===(t=e.skus)||void 0===t?void 0:t.includes(o),a=null===(r=e.sku_prefixes)||void 0===r?void 0:r.some((function(e){return e===n.substring(0,e.length)})),u=!(null===(i=e.exclude_skus)||void 0===i?void 0:i.includes(o));return!(!c&&!a||!u)})):[]),a=s(s({},e),{},{promotions:c}),l=function(e,t){return e.length?e.map((function(e){var r=s({},e),o=r.discountType,n=r.value,c=r.code,a=0;if("fixed_price"===o&&0!==n&&c.includes("Oferta"))a=100-n/t*100;else if("percentual"===o)if(null==c?void 0:c.includes("x")){var u=c.split("x"),l=Object(i.a)(u,2);a=100-l[0]/l[1]*100}else if(null==c?void 0:c.includes("2do al")){var p=c.match(/\d/g),d=Object(i.a)(p,3);d[0];a=(100-(200-(d[1]+d[2]))/2)/2}else if("%"===(null==c?void 0:c.charAt(2))||"%"===(null==c?void 0:c.charAt(1))){var f=c.split("%"),v=Object(i.a)(f,1)[0];a=parseInt(v)}return a=Math.round(a),r.priority=a,r})).sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0})).pop():{}}(a.promotions,a.price),p=e.price;if("fixed_price"===l.discountType&&(p=l.value),"percentual"===l.discountType&&("%"===(null===(t=l.code)||void 0===t?void 0:t.charAt(2))||"%"===(null===(r=l.code)||void 0===r?void 0:r.charAt(1)))){var d=l.code.split("%"),f=Object(i.a)(d,1)[0],v=parseInt(f);p=(e.price*((100-v)/100)).toFixed(2)}return p=Number(p),s(s({},a),{},{promotionPrice:p,prorityPromotion:l})})).reduce((function(e,t){return e+t.promotionPrice}),0);return Object(c.useEffect)((function(){var e=localStorage.getItem("filteredPromotions"),t=localStorage.getItem("filteredPromotions2"),r=[].concat(Object(o.a)(JSON.parse(e)||[]),Object(o.a)(JSON.parse(t)||[]));l(r)}),[]),a.a.createElement(a.a.Fragment,null,"$",Intl.NumberFormat("de-DE").format(p))};t.default=l}},[[382,"common"]]]);