(window.webpackJsonpvtex_search_result_3_140_0=window.webpackJsonpvtex_search_result_3_140_0||[]).push([[9],{10:function(e,t,n){e.exports={container:"vtex-search-result-3-x-container",buttonShowMore:"vtex-search-result-3-x-buttonShowMore",filterTitleSpan:"vtex-search-result-3-x-filterTitleSpan",clearAllFilters:"vtex-search-result-3-x-clearAllFilters",switch:"vtex-search-result-3-x-switch",breadcrumb:"vtex-search-result-3-x-breadcrumb",richTitle:"vtex-search-result-3-x-richTitle",filters:"vtex-search-result-3-x-filters",filter__container:"vtex-search-result-3-x-filter__container",resultGallery:"vtex-search-result-3-x-resultGallery",gallery:"vtex-search-result-3-x-gallery",galleryTitle:"vtex-search-result-3-x-galleryTitle",filterPopupButton:"vtex-search-result-3-x-filterPopupButton",accordionFilter:"vtex-search-result-3-x-accordionFilter",filterAccordionItemBox:"vtex-search-result-3-x-filterAccordionItemBox",filterAccordionBreadcrumbs:"vtex-search-result-3-x-filterAccordionBreadcrumbs",filterButtonsBox:"vtex-search-result-3-x-filterButtonsBox",filterPopupFooter:"vtex-search-result-3-x-filterPopupFooter",accordionFilterItemOptions:"vtex-search-result-3-x-accordionFilterItemOptions",dropdownMobile:"vtex-search-result-3-x-dropdownMobile",accordionFilterItemActive:"vtex-search-result-3-x-accordionFilterItemActive",totalProducts:"vtex-search-result-3-x-totalProducts",orderBy:"vtex-search-result-3-x-orderBy",filterPopupTitle:"vtex-search-result-3-x-filterPopupTitle",filterPopupArrowIcon:"vtex-search-result-3-x-filterPopupArrowIcon",filterPopup:"vtex-search-result-3-x-filterPopup",filterPopupOpen:"vtex-search-result-3-x-filterPopupOpen",filterPopupContent:"vtex-search-result-3-x-filterPopupContent",filterPopupContentContainer:"vtex-search-result-3-x-filterPopupContentContainer",filterPopupContentContainerOpen:"vtex-search-result-3-x-filterPopupContentContainerOpen",orderByOptionsContainer:"vtex-search-result-3-x-orderByOptionsContainer",orderByOptionItem:"vtex-search-result-3-x-orderByOptionItem",sidebar:"vtex-search-result-3-x-sidebar",filterTitle:"vtex-search-result-3-x-filterTitle",filterQuantityBadgeDefault:"vtex-search-result-3-x-filterQuantityBadgeDefault","filters--layout":"vtex-search-result-3-x-filters--layout","buttonShowMore--layout":"vtex-search-result-3-x-buttonShowMore--layout","galleryTitle--layout":"vtex-search-result-3-x-galleryTitle--layout","totalProducts--layout":"vtex-search-result-3-x-totalProducts--layout","orderBy--layout":"vtex-search-result-3-x-orderBy--layout","container--layout":"vtex-search-result-3-x-container--layout","notFound--layout":"vtex-search-result-3-x-notFound--layout",shippingActionButton:"vtex-search-result-3-x-shippingActionButton",scrim:"vtex-search-result-3-x-scrim",filterContent:"vtex-search-result-3-x-filterContent"}},108:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(12),i=n(11),c=n(5),o=n.n(c),l=n(0),s=n.n(l),u=n(93),d=n(3),p=n(18),f=n.n(p),m=n(6),v=n.n(m),b=n(14),O=n.n(b),h=n(7),y=n(1),g=n(4),j=n(15),E=n.n(j),w=n(99),C=n.n(w),F=n(100),P=n.n(F),x=n(118),R=n(60),S=n.n(R),M=n(26),k=n.n(M),T=n(27),I=n(17),A=n.n(I),N=n(21),L=n.n(N),D=n(69),_=n.n(D),B=n(70),z=n(23),q=n(49),Q=["accordionFilterContainer","accordionFilterContent","accordionFilterItem","filterAccordionItemBox","accordionFilterItemActive","accordionFilterItemHidden","accordionFilterItemTitle","accordionFilterItemTag","accordionFilterItemIcon","accordionSelectedFilters"],U=function(e){var t=e.title,n=e.show,a=e.open,i=e.onOpen,c=e.selectedFilters,u=void 0===c?[]:c,d=e.children,p=e.appliedFiltersOverview,f=e.navigationType,m=e.initiallyCollapsed,b=e.onClearFilter,h=e.facetKey,y=e.showClearByFilter,j=e.quantity,E=Object(g.useIntl)(),w=v()(Q),C="collapsible"===f,F=Object(l.useState)(m),P=Object(r.a)(F,2),x=P[0],R=P[1],S=function(e){C&&R((function(e){return!e})),i(e)},M=void 0!==j?j:u.length,k=Object(q.b)(Object(z.b)(t,E));return s.a.createElement(l.Fragment,null,(!a||C)&&s.a.createElement("div",{className:"".concat(O()(w.accordionFilterContainer,k)," pl7")},s.a.createElement("div",{role:"button",tabIndex:0,className:o()(w.accordionFilterItem,O()(w.filterAccordionItemBox,k),"t-body pr5 pv3 pointer bb b--muted-5 outline-0",a&&w.accordionFilterItemActive,!n&&"".concat(w.accordionFilterItemHidden," dn")),onKeyDown:function(e){" "===e.key&&S(e)},onClick:S},s.a.createElement("div",{className:o()(w.accordionFilterContent,"pv4 c-on-base",a?"t-small":"t-heading-5")},s.a.createElement("span",{className:w.accordionFilterItemTitle},Object(z.b)(t,E)),0!==M&&s.a.createElement("div",{className:o()(w.accordionFilterItemTag,"dib ml3")},s.a.createElement(_.a,null,M)),M>0&&y&&s.a.createElement("span",{className:o()(w.accordionFilterItemTag,"dib ml3")},s.a.createElement(_.a,{size:"small",onClick:function(e){e.stopPropagation(),b&&b(h)}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clear"}))),s.a.createElement("span",{className:"".concat(w.accordionFilterItemIcon," fr")},s.a.createElement(A.a,{orientation:!C||C&&x?"down":"up",size:10})),"show"===p&&M>0&&s.a.createElement("div",{className:o()(w.accordionSelectedFilters,"f6")},u.map((function(e){return e.name})).join(", "))))),C?s.a.createElement(B.Collapse,{isOpened:!x&&C},s.a.createElement("div",{className:"pl8"},d)):a&&d)},Y=n(111),V=n(88);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){var t,n,a,i,c,o=e.open,u=e.containerRef,d=e.children,p=(t=u,n=Object(l.useState)({left:0,top:0,width:0,height:0}),a=Object(r.a)(n,2),i=a[0],c=a[1],Object(l.useEffect)((function(){var e=!0,n=new V.a((function(t){var n=Object(r.a)(t,1)[0];e&&c(n.contentRect)}));return null!==t.current&&n.observe(t.current),function(){n.disconnect(),e=!1}}),[t]),i).height,f=Object(Y.useSpring)({height:o?p:0});return s.a.createElement(Y.animated.div,{style:K({overflow:"hidden"},f)},d)},G=function(e){var t=e.render,n=e.maxItems,a=e.threshold,i=e.items,c=e.openLabel,u=void 0===c?"store/filter.more-items":c,p=e.closedLabel,f=void 0===p?"store/filter.less-items":p,m=e.linkClassName,v=Object(l.useState)(!1),b=Object(r.a)(v,2),O=b[0],h=b[1],y=i.length>=n+a,j=Object(l.useRef)(null),E=i.length-n;return s.a.createElement(s.a.Fragment,null,i.slice(0,y?n:i.length).map(t),y&&i.length>n&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.NoSSR,null,s.a.createElement(W,{open:O,containerRef:j},s.a.createElement("div",{className:"dib w-100","aria-hidden":!O,ref:j},i.slice(n).map(t)))),s.a.createElement("button",{className:o()(m,"flex items-center mt2 pv2 ph0 bg-base bn self-start tl c-muted-3 pointer"),onClick:function(){return h((function(e){return!e}))}},s.a.createElement("span",{className:"c-link"},s.a.createElement(g.FormattedMessage,{id:O?f:u,values:{quantity:E}})))))},$=n(89),X=n.n($),J=["categoryItemChildren"],Z=function(e){var t=e.label,n=e.onClick,r=e.className,a=e.href,i=e.categoryFiltersMode,c=v()(J);return"href"===i?s.a.createElement("a",{tabIndex:0,className:o()(c.categoryItemChildren,"ph5 ph3-ns pv5 pv1-ns lh-copy pointer hover-bg-muted-5 c-muted-1 db no-underline",r),onClick:function(e){e.preventDefault(),n()},href:a&&a.toLowerCase(),title:t,onKeyDown:function(e){return"Enter"===e.key&&n(e)},"data-testid":"categoryItem-".concat(t)},t):s.a.createElement("div",{tabIndex:0,role:"link",className:o()(c.categoryItemChildren,"ph5 ph3-ns pv5 pv1-ns lh-copy pointer hover-bg-muted-5 c-muted-1",r),onClick:n,onKeyDown:function(e){return"Enter"===e.key&&n(e)},"data-testid":"categoryItem-".concat(t)},t)},ee=["categoryGroup","categoryParent","categoryItemName","selectedCategoryIcon","categoryItemChildrenContainer","selectedCategory","selectedCategoryName","selectedCategoryIcon"],te=function(e){var t=e.category,n=e.shallow,r=void 0!==n&&n,a=e.onCategorySelect,i=e.preventRouteChange,c=e.maxItemsCategory,l=e.categoryFiltersMode,u=Object(T.b)().map,d=v()(ee),p=function(e){for(var t=e.children,n=[e];t;){var r=t.find((function(e){return e.selected}));if(!r)break;n.push(r),t=r.children}return n}(t),f=function(e){var t=p.slice(e);a(t,i)},m=p[p.length-1],b=-1===u.split(",").indexOf("c"),O=function(){b&&(r?a(t):f(0))};return s.a.createElement("div",{className:o()(d.categoryGroup,"mt4")},s.a.createElement("div",{role:"button",tabIndex:b?0:-1,className:o()(d.categoryParent,"flex items-center pointer"),onClick:O,onKeyDown:function(e){return"Enter"===e.key&&O()},"data-testid":"root-category-".concat(t.value)},s.a.createElement("div",{className:"flex-grow-1 dim"},s.a.createElement("span",{className:o()(d.categoryItemName,"f5 c-on-base")},t.name)),!r&&b&&s.a.createElement("span",{className:o()(d.selectedCategoryIcon,"flex items-center c-muted-3")},s.a.createElement(X.a,{size:14}))),s.a.createElement("div",{className:o()(d.categoryItemChildrenContainer,"pl5 pl0-ns")},p.slice(1).map((function(e,t){return s.a.createElement("span",{key:e.id,role:"button",tabIndex:0,className:o()(d.selectedCategory,"mt5 mt4-ns flex items-center justify-between pointer f5 f6-ns"),onClick:function(){return f(t+1)},onKeyDown:function(e){return"Enter"===e.key&&f(t+1)},"data-testid":"selected-category-".concat(e.value)},s.a.createElement("span",{className:d.selectedCategoryName},e.name),s.a.createElement("span",{className:o()(d.selectedCategoryIcon,"flex items-center c-muted-3")},s.a.createElement(X.a,{size:14})))})),m.children&&m.children.length>0&&s.a.createElement("div",{className:r?"mt2":"mt5 mt4-ns bl b--muted-4"},s.a.createElement(G,{items:m.children,maxItems:c,threshold:2,linkClassName:"ml3",openLabel:"store/filter.more-categories",render:function(e,n){return s.a.createElement(Z,{key:e.id,href:e.href,categoryFiltersMode:l,className:0!==n||r?"":"mt2",onClick:function(){return a(r?[t,e]:e,i)},label:e.name})}}))))},ne=["filter__container","filter","filterTitle","categoriesContainer"],re=function(e){var t=e.title,n=e.isVisible,r=e.tree,a=e.onCategorySelect,i=e.hideBorder,c=void 0!==i&&i,l=e.preventRouteChange,u=e.maxItemsDepartment,d=e.maxItemsCategory,p=e.categoryFiltersMode,f=v()(ne);if(!n||0===r.length)return null;var m=r.every((function(e){return!e.selected})),b=o()(O()(f.filter__container,"c"),!c&&"bb b--muted-4");return s.a.createElement("div",{className:b},t&&s.a.createElement("div",{className:o()(f.filter,"pt4")},s.a.createElement("div",{className:o()(f.filterTitle,"t-mini c-muted-2 flex items-center justify-between")},s.a.createElement(g.FormattedMessage,{id:t}))),s.a.createElement("div",{className:o()(f.categoriesContainer,"pb5 flex flex-column")},m?s.a.createElement(G,{maxItems:u,threshold:2,items:r,openLabel:"store/filter.more-departments",render:function(e){return s.a.createElement(te,{key:e.id,category:e,shallow:!0,onCategorySelect:a,preventRouteChange:l,maxItemsCategory:d,categoryFiltersMode:p})}}):s.a.createElement(te,{category:r.find((function(e){return e.selected})),onCategorySelect:a,preventRouteChange:l,maxItemsCategory:d,categoryFiltersMode:p})))},ae=n(25),ie=n(101),ce=n.n(ie),oe=["searchFilterBar"],le=Object(g.defineMessages)({placeholder:{id:"store/search.filter.placeholder"}}),se=function(e){var t=e.name,n=e.handleChange,r=v()(oe),a=Object(g.useIntl)();return s.a.createElement("div",{className:"".concat(r.searchFilterBar," mb3")},s.a.createElement(ce.a,{"data-testid":"filter-search-bar",onChange:function(e){return n(e.target.value)},placeholder:a.formatMessage(le.placeholder,{filterName:t})}))},ue=n(37),de=["seeMoreButton"],pe=function(e){var t=e.truncated,n=e.toggleTruncate,r=e.quantity,a=v()(de);return s.a.createElement("button",{onClick:n,className:"".concat(a.seeMoreButton," mt2 pv2 bn pointer c-link"),key:t?"store/filter.more-items":"store/filter.less-items"},s.a.createElement(g.FormattedMessage,{id:t?"store/filter.more-items":"store/filter.less-items",values:{quantity:r}}))},fe=n(45),me=n.n(fe),ve=n(10),be=n.n(ve),Oe=function(e){if(null===e[0]||void 0===e[0])return"";var t=Object(r.a)(e,1)[0].categoryId;return e.every((function(e){return e.categoryId===t}))?t:""},he=function(e){var t=e.name,n=e.value,r=e.products;(0,e.push)({event:"filterManipulation",items:{filterProductCategory:Oe(r),filterName:t,filterValue:n}})},ye=n(102),ge=n(13);var je={delivery:"DELIVERY","pickup-nearby":"DELIVERY",pickup:"DELIVERY","pickup-in-point":"PICKUP_POINT"},Ee={DELIVERY:"addressLabel",PICKUP_POINT:"pickupPointLabel"},we={DELIVERY:"store/search.filter.shipping.action-button.delivery",PICKUP_POINT:"store/search.filter.shipping.action-button.pickup-in-point"},Ce=["delivery","pickup-in-point","pickup-nearby","pickup"],Fe=function(e){var t=je[e.value],n=t?Ee[t]:null,a=Object(l.useState)(we[t]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=Object(l.useState)(!1),u=Object(r.a)(s,2),d=u[0],p=u[1],f=Object(l.useState)(!1),m=Object(r.a)(f,2),v=m[0],b=m[1],O=Ce.findIndex((function(t){return e.value===t}))>-1,y=Object(ye.useShippingOptionState)(),g=y.zipcode,j=y.selectedPickup,E=y.city,w=y.addressLabel;Object(l.useEffect)((function(){var e=j?j.pickupPoint.friendlyName:"",r="pickupPointLabel"===n?e:w;r?(o(r),O&&p(!0),"pickupPointLabel"===n&&b(!0)):(o(we[t]),O&&p(!1),"pickupPointLabel"===n&&b(!1))}),[t,E,n,O,g,j,w]);var C=function(e,t,n){var r=Object(h.useSearchPage)().map;if(("delivery"===e.value||"pickup-nearby"===e.value||"pickup"===e.value)&&!t)return!0;if("pickup-in-point"===e.value&&!n)return!0;if(0===e.quantity)return!0;if(!e.selected||!r)return!1;var a=r.split(ge.MAP_VALUES_SEP);return!a.includes("ft")&&1===a.length}(e,d,v);return"pickup-nearby"===e.value||"pickup"===e.value?{actionLabel:null,actionType:null,shouldDisable:C}:{actionType:t,actionLabel:c,shouldDisable:C}},Pe=["shippingActionButton"],xe=function(e){var t=e.label,n=e.openDrawer,r=v()(Pe);return s.a.createElement("button",{onClick:function(){return n()},className:r.shippingActionButton},t)};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){var t=e.facet,n=e.showFacetQuantity,r=e.sampling,a=e.facetTitle,i=e.searchQuery,c=e.onFilterCheck,u=Object(g.useIntl)(),d=k()().push,p=Fe(t),f=p.actionLabel,m=p.actionType,v=p.openDrawer,b=p.shouldDisable,h=!!m,y=t.name,j=t.value,E=Object(l.useMemo)((function(){var e=t.name;return n&&!r&&(e="".concat(e," (").concat(t.quantity,")")),h&&(e=s.a.createElement("div",{className:"flex flex-column"},s.a.createElement("span",null,e),s.a.createElement(xe,{label:u.formatMessage({id:f}),openDrawer:v}))),e}),[n,r,t.name,t.quantity,h,f,v,u]);return s.a.createElement("div",{className:o()(O()(be.a.filterAccordionItemBox,j),"pr4 pt3 items-center flex bb b--muted-5"),style:{hyphens:"auto",wordBreak:"break-word"}},s.a.createElement(me.a,{disabled:b,className:"mb0",checked:t.selected,id:y,label:E,name:y,onChange:function(){var e;he({name:a,value:y,products:null!==(e=null==i?void 0:i.products)&&void 0!==e?e:[],push:d}),c(Se(Se({},t),{},{title:a}))},value:y}))},ke=function(e){var t,n,a=e.facets,i=e.onFilterCheck,c=e.facetTitle,o=e.quantity,u=e.truncateFilters,p=e.navigationType,f=e.truncatedFacetsFetched,m=e.setTruncatedFacetsFetched,v=Object(h.useSearchPage)().searchQuery,b=Object(l.useContext)(ae.a).showFacetQuantity,O=Object(d.useRuntime)().getSettings,y=Object(l.useContext)(ae.a).thresholdForFacetSearch,g=Object(l.useState)(""),j=Object(r.a)(g,2),E=j[0],w=j[1],C=Object(l.useState)(!0),F=Object(r.a)(C,2),P=F[0],x=F[1],R=null===(t=O("vtex.store"))||void 0===t?void 0:t.enableFiltersFetchOptimization,S=null==v||null===(n=v.facets)||void 0===n?void 0:n.sampling,M=Object(l.useMemo)((function(){return void 0===y||""===E?a:a.filter((function(e){return e.name.toLowerCase().indexOf(E.toLowerCase())>-1}))}),[a,E,y]),k="collapsible"===p&&u&&o>ue.a+1,T=k&&P?ue.a:M.length,I=void 0!==y&&y<a.length;return s.a.createElement(s.a.Fragment,null,I?s.a.createElement(se,{name:c,handleChange:w}):null,M.slice(0,T).map((function(e){return s.a.createElement(Me,{facet:e,facetTitle:c,onFilterCheck:i,sampling:S,searchQuery:v,showFacetQuantity:b,key:e.name})})),k&&s.a.createElement(pe,{quantity:o-ue.a,truncated:P,toggleTruncate:function(){return e=function(e){return!e},R&&!f&&m(!0),void x(e);var e}}))},Te=[ge.MAP_CATEGORY_CHAR,ge.PRODUCT_CLUSTER_IDS,ge.FULLTEXT_QUERY_KEY],Ie=[ge.MAP_CATEGORY_CHAR,ge.FULLTEXT_QUERY_KEY],Ae=function(e){return Te.includes(e)};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(e){var t=Object(T.b)(),n=t.query,a=t.map;if(null==n&&null==a)return[];var i=Object(y.zip)(n.toLowerCase().split("/").map(decodeURIComponent),a.split(","));return e.map((function(e){var t=decodeURIComponent(e.value).toLowerCase(),n=void 0!==i.find((function(n){var a,i,c=Object(r.a)(n,2),o=c[0],l=c[1];return o===t&&(a=l,i=e.map,Ie.includes(a)?Ie.includes(i):a===i)}));return Le(Le({},e),{},{selected:n})}))},_e="ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;";function Be(e){return function(e){for(var t=e.slice(0),n=0;n<_e.length;n++)t=t.replace(new RegExp(_e.charAt(n),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(n));return t}(e.replace(/[*+~.()'"!:@&\[\]`,/ %$#?{}|><=_^]/g,"-")).toLowerCase()}var ze=function(e){var t;return(null===(t=e.map)||void 0===t?void 0:t.includes(ge.SPEC_FILTER))?"".concat(Be(e.title)).concat(ge.FILTER_TITLE_SEP).concat(e.value.replace(/\s/g,ge.SPACE_REPLACER)):e.map===ge.MAP_CATEGORY_CHAR||e.map===ge.MAP_BRAND_CHAR?e.value.toLowerCase():e.value},qe=n(103),Qe=n.n(qe),Ue=function(e){var t=e.facet,n=e.onOpenPostalCodeModal,r=e.onOpenPickupModal,a=Object(g.useIntl)(),i=Fe(t),c=i.actionLabel,o=i.actionType;return s.a.createElement("div",null,s.a.createElement("div",null,t.name),o?s.a.createElement(xe,{label:a.formatMessage({id:null!=c?c:"none"}),openDrawer:"DELIVERY"===o?n:r}):void 0)},Ye=function(e){var t=e.facets,n=e.onChange,a=e.onOpenPostalCodeModal,i=e.onOpenPickupModal,c=t.find((function(e){return e.selected})),o=c?c.value:void 0,u=Object(l.useState)(o),d=Object(r.a)(u,2),p=d[0],f=d[1];Object(l.useEffect)((function(){f(o)}),[o]);return s.a.createElement(Qe.a,{hideBorder:!0,size:"small",name:"shipping",options:t.map((function(e){return{id:e.value,value:e.value,label:s.a.createElement(Ue,{facet:e,onOpenPostalCodeModal:a,onOpenPickupModal:i}),disabled:0===e.quantity}})),value:p,onChange:function(e){var r=e.currentTarget.value;f(r);var a=t.find((function(e){return e.value===r}));a.selected||n(a)}})};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=["accordionFilterOpen"],We=function(e){var t=e.className,n=e.title,r=e.facets,a=e.quantity,i=e.show,c=e.open,l=e.onOpen,u=e.onFilterCheck,d=e.appliedFiltersOverview,p=e.navigationType,f=e.initiallyCollapsed,m=e.truncateFilters,b=e.truncatedFacetsFetched,y=e.setTruncatedFacetsFetched,j=e.onClearFilter,E=e.showClearByFilter,w=e.onOpenPostalCodeModal,C=e.onOpenPickupModal,F=Object(h.useSearchPage)().searchQuery,P=v()(Ke),x=De(r),R=x.filter((function(e){return e.selected})),S=Object(g.useIntl)(),M=Object(z.b)(n,S),T=Be(M),I=x.length>0?x[0].key:null,A=k()().push,N=x.some((function(e){return"shipping"===e.key}));return s.a.createElement(U,{facetKey:I,title:n,open:c,show:i,onOpen:l,selectedFilters:R,appliedFiltersOverview:d,navigationType:p,initiallyCollapsed:f,onFilterCheck:u,onClearFilter:j,showClearByFilter:E},s.a.createElement("div",{className:o()(O()(P.accordionFilterOpen,T),t)},N?s.a.createElement(Ye,{facets:x,onChange:function(e){var t;he({name:M,value:e.name,products:null!==(t=null==F?void 0:F.products)&&void 0!==t?t:[],push:A}),u(He(He({},e),{},{title:M}),!0)},onOpenPostalCodeModal:w,onOpenPickupModal:C}):s.a.createElement(ke,{onFilterCheck:u,facets:x,quantity:a,facetTitle:M,truncateFilters:m,navigationType:p,truncatedFacetsFetched:b,setTruncatedFacetsFetched:y})))},Ge=n(61),$e=n.n(Ge),Xe=n(104),Je=n.n(Xe),Ze=(n(38),n(39)),et=n(54);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=["filter__container","filter","filterSelected","filterAvailable","filterIsOpen","filterTitle","filterTitleSpan","filterIcon","filterContent","filterTemplateOverflow","seeMoreButton","filterSelectedFilters"],at=function(e){var t,n,a=e.id,i=e.selected,c=void 0!==i&&i,u=e.title,p=e.quantity,f=e.collapsable,m=void 0===f||f,b=e.children,O=e.filters,h=e.initiallyCollapsed,y=void 0!==h&&h,j=e.lazyRender,E=void 0!==j&&j,w=e.truncateFilters,C=void 0!==w&&w,F=e.lastOpenFilter,P=e.setLastOpenFilter,x=e.openFiltersMode,R=e.truncatedFacetsFetched,S=e.setTruncatedFacetsFetched,M=e.closeOnOutsideClick,k=void 0!==M&&M,T=e.appliedFiltersOverview,I=e.navigateToFacet,N=e.showClearByFilter,L=e.preventRouteChange,D=e.handleClear,z=e.isSelectedFiltersSection,q=void 0!==z&&z,Q=e.onOpenPostalCodeModal,U=e.onOpenPickupModal,Y=Object(l.useState)(!y),V=Object(r.a)(Y,2),H=V[0],K=V[1],W=Object(d.useRuntime)().getSettings,G=Object(l.useRef)(),$=Object(l.useRef)(),X=v()(rt),J=Object(l.useContext)(ae.a).thresholdForFacetSearch,Z=Object(l.useState)(""),ee=Object(r.a)(Z,2),te=ee[0],ne=ee[1],re=Object(l.useState)(!0),ie=Object(r.a)(re,2),ce=ie[0],oe=ie[1],le=null===(t=W("vtex.store"))||void 0===t?void 0:t.enableSearchRenderingOptimization,de=null===(n=W("vtex.store"))||void 0===n?void 0:n.enableFiltersFetchOptimization,fe=Object(et.a)({lazyRender:le&&E,waitForUserInteraction:!1}),me=fe.hasBeenViewed,ve=fe.dummyElement,Oe=function(e){var t=Object(l.useState)(!1),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(l.useEffect)((function(){var t=e.current;if(!a&&t){var n=function(){i(!0)};return t.addEventListener("scroll",n),function(){t.removeEventListener("scroll",n)}}}),[a,e]),a}(G),he="many"===x?H:F===u,ye=Object(l.useMemo)((function(){return void 0===J||""===te?O:O.filter((function(e){return e.name.toLowerCase().indexOf(te.toLowerCase())>-1}))}),[O,te,J]),ge=Object(l.useCallback)((function(){return I(O.filter((function(e){return e.selected})),L)}),[I,O,L]),je=function(){if("function"!=typeof b)return b;var e=(C||de)&&p>ue.a+1,t=!e&&!Oe&&le,n=t?34*(O.length-ue.a):0,r=t||e&&ce?ue.a:ye.length,a=!q&&O.some((function(e){return"shipping"===e.key}));return s.a.createElement(s.a.Fragment,null,a?s.a.createElement(Ye,{facets:ye,onChange:function(e){return I(nt(nt({},e),{},{title:u}),L)},onOpenPostalCodeModal:Q,onOpenPickupModal:U}):ye.slice(0,r).map(b),n>0&&s.a.createElement("div",{style:{height:n}}),e&&s.a.createElement(pe,{quantity:p-ue.a,truncated:ce,toggleTruncate:function(){return e=function(e){return!e},de&&!R&&S(!0),void oe(e);var e}}))},Ee=Object(l.useCallback)((function(){"many"===x?K(!H):"one"===x?P(F===u?null:u):console.error("Invalid openFiltersMode value: ".concat(x,"\nCheck the documentation for the values available"))}),[F,H,x,P,u]);Object(Ze.a)($,(function(){k&&"one"===x&&Ee()}),he);var we=N&&("priceRange"===a||!c&&O&&O.some((function(e){return e.selected}))),Ce=Object(l.useCallback)((function(e){" "===e.key&&m&&(e.preventDefault(),Ee())}),[m,Ee]),Fe=o()(X.filter__container,"bb b--muted-4",a&&"".concat(be.a.filter__container,"--").concat(a)),Pe=o()(X.filter,"pv5",c?X.filterSelected:X.filterAvailable,he&&X.filterIsOpen),xe=o()(X.filterTitle,"f5 flex items-center justify-between",c&&"ttu");return s.a.createElement("div",{className:Fe,ref:$},s.a.createElement("div",{className:Pe},s.a.createElement("div",{role:"button",tabIndex:m?0:void 0,className:m?"pointer":"",onClick:function(){return m&&Ee()},onKeyDown:Ce,"aria-disabled":!m},s.a.createElement("div",{className:xe},s.a.createElement("span",{className:"".concat(X.filterTitleSpan)},u,we&&s.a.createElement("span",{className:"ml2"},s.a.createElement(_.a,{size:"small",onClick:function(e){e.stopPropagation(),D?D():ge()}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clear"})))),m&&s.a.createElement("span",{className:o()(X.filterIcon,"flex items-center ph5 c-muted-3")},s.a.createElement(A.a,{orientation:he?"up":"down",size:14})))),"show"===T&&O&&!c&&s.a.createElement("div",{className:o()(X.filterSelectedFilters,"f6")},O.filter((function(e){return e.selected})).map((function(e){return e.name})).join(", "))),s.a.createElement("div",{className:o()(X.filterTemplateOverflow,(!m||he)&&"pb5",m&&"overflow-y-auto"),ref:G,"data-testid":"scrollable-element",style:c||(C||de)&&!le?{}:{maxHeight:"200px"},"aria-hidden":!he},me?m?s.a.createElement(B.Collapse,{isOpened:he,theme:{content:X.filterContent},initialStyle:he?{height:"auto",overflow:"initial",transition:"height 500ms"}:{height:"0px",overflow:"hidden",transition:"height 500ms"}},void 0!==J&&J<O.length?s.a.createElement(se,{name:u,handleChange:ne}):null,je()):je():ve))},it=n(90),ct=n.n(it);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=["priceRangeInputWrapper","priceRangeInput","priceRangeInputButton"],ut=function(e){var t=e.defaultValues,n=e.onSubmit,a=e.min,i=e.max,c=v()(st),o=Object(d.useRuntime)().culture,u=Object(r.a)(t,2),p=u[0],f=u[1],m=Object(l.useState)({left:p,right:f}),b=Object(r.a)(m,2),O=b[0],h=b[1];Object(l.useEffect)((function(){return h({left:p,right:f})}),[p,f]);var y=function(e){return function(t){var n=t.target.value;h("min"===e?function(e){return lt(lt({},e),{},{left:parseFloat(n)})}:function(e){return lt(lt({},e),{},{right:parseFloat(n)})})}},j=function(){var e=O.left,t=O.right,r=Math.max(Math.min(e,t),a),c=Math.min(Math.max(e,t),i);h({left:r,right:c}),n([r,c])},w=function(e){"Enter"===e.key&&j()};return s.a.createElement("div",{className:"".concat(c.priceRangeInputWrapper," flex justify-between")},s.a.createElement("div",{className:"".concat(c.priceRangeInput," mr2")},s.a.createElement(ct.a,{name:"min",size:"small",currencyCode:o.currency,locale:o.locale,value:O.left,onChange:y("min"),onKeyDown:w})),s.a.createElement("div",{className:"".concat(c.priceRangeInput," mr2")},s.a.createElement(ct.a,{name:"max",size:"small",currencyCode:o.currency,locale:o.locale,value:O.right,onChange:y("max"),onKeyDown:w})),s.a.createElement(E.a,{className:c.priceRangeInputButton,onClick:j,size:"small"},s.a.createElement(g.FormattedMessage,{id:"store/search-result.price-ranges.submit"})))},dt=function(e){var t=e.title,n=e.facets,a=e.priceRange,i=e.priceRangeLayout,c=e.scrollToTop,o=e.showClearByFilter,u=e.onChangePriceRange,p=Object(d.useRuntime)(),f=p.culture,m=p.setQuery,v=p.query,b=Object(g.useIntl)(),O=Object(l.useRef)(),y=k()().push,j=Object(h.useSearchPage)().searchQuery,E=function(e){var t,n=Object(r.a)(e,2),a=n[0],i=n[1];O.current&&clearTimeout(O.current),he({name:"PriceRange",value:"[".concat(a.toString(),"-").concat(i.toString(),"]"),products:null!==(t=null==j?void 0:j.products)&&void 0!==t?t:[],push:y}),O.current=setTimeout((function(){((null==v?void 0:v.priceRange)||a!==F||i!==P)&&u("".concat(a," TO ").concat(i)),"none"!==c&&window.scroll({top:0,left:0,behavior:c})}),500)},w=/^de-(.*)-a-(.*)$/,C=n.filter((function(e){var t=e.slug;return w.test(t)}));if(!C.length)return null;var F=Number.MAX_VALUE,P=Number.MIN_VALUE;C.forEach((function(e){var t=e.slug.match(w),n=Object(r.a)(t,3),a=n[1],i=n[2],c=parseInt(a,10),o=parseInt(Math.ceil(i),10);c<F&&(F=c),o>P&&(P=o)}));var x=[F,P],R=/^(.*) TO (.*)$/;if(a&&R.test(a)){var S=a.match(R),M=Object(r.a)(S,3),T=M[1],I=M[2];x[0]=parseInt(T,10),x[1]=parseInt(I,10)}return s.a.createElement(at,{id:"priceRange",title:Object(z.b)(t,b),collapsable:!1,handleClear:function(){return m({priceRange:void 0})},showClearByFilter:a&&o},"inputAndSlider"===i&&s.a.createElement(ut,{defaultValues:x,onSubmit:function(e){return E(e)},max:P,min:F}),s.a.createElement($e.a,{min:F,max:P,onChange:E,formatValue:function(e){return Je()({intl:b,culture:f,value:e})},values:x,defaultValues:x,range:!0}))},pt=function(e){var t=e.className,n=e.title,r=e.facets,a=e.show,i=e.open,c=e.onOpen,o=e.priceRange,l=e.navigationType,u=e.initiallyCollapsed,d=e.priceRangeLayout,p=e.onClearFilter,f=e.showClearByFilter,m=e.onChangePriceRange,v=o&&/^(.*) TO (.*)$/.test(o);return s.a.createElement(U,{title:n,open:i,show:a,onOpen:c,navigationType:l,initiallyCollapsed:u,showClearByFilter:f,quantity:v?1:void 0,onClearFilter:p},s.a.createElement("div",{className:t},s.a.createElement(dt,{title:n,facets:r,priceRange:o,priceRangeLayout:d,onChangePriceRange:m})))},ft=["filterBreadcrumbsItem","filterBreadcrumbsItemName","filterBreadcrumbsContent","filterBreadcrumbsText","filterBreadcrumbsList","filterLoadingOverlay"],mt="store/search.filter.title.categories",vt=function(e){var t,n=e.filters,a=e.onFilterCheck,i=e.tree,c=e.onCategorySelect,u=e.priceRange,p=e.onChangePriceRange,f=e.appliedFiltersOverview,m=e.navigationType,b=e.initiallyCollapsed,O=e.truncateFilters,h=e.truncatedFacetsFetched,y=e.setTruncatedFacetsFetched,j=e.categoryFiltersMode,E=e.loading,w=e.onClearFilter,C=e.showClearByFilter,F=e.updateOnFilterSelectionOnMobile,P=e.priceRangeLayout,x=e.onOpenPostalCodeModal,R=e.onOpenPickupModal,S=Object(g.useIntl)(),M=Object(d.useRuntime)(),k=M.getSettings,T=M.setQuery,I=Object(l.useState)(null),N=Object(r.a)(I,2),D=N[0],_=N[1],B=v()(ft),z=null===(t=k("vtex.store"))||void 0===t?void 0:t.enableFiltersFetchOptimization,q=function(e){return function(t){t.preventDefault(),"collapsible"!==m&&(z&&!h&&y(!0),_(D===e?null:e))}},Q=n.filter((function(e){return e.facets.length>0})),Y=D===mt,V=o()(be.a.accordionFilterItemOptions,"ph5 pt3 h-100 overflow-scroll","collapsible"!==m&&"pb9"),H=F&&E;return s.a.createElement("div",{className:o()(be.a.accordionFilter,"h-100 pb9",!D&&"overflow-scroll")},s.a.createElement("div",{className:o()(be.a.filterAccordionBreadcrumbs,"pointer flex flex-row items-center pa5 bg-base w-100 z-max bb b--muted-4")},s.a.createElement("div",{role:"button",tabIndex:0,className:"".concat(B.filterBreadcrumbsContent," pv4 flex items-center"),onClick:function(){return _(null)},onKeyDown:function(e){"Enter"===e.key&&_(null)}},s.a.createElement("div",{className:"".concat(B.filterBreadcrumbsText," t-heading-4 ")+(D?"c-muted-2":"c-on-base")},S.formatMessage({id:"store/search-result.filter-breadcrumbs.primary"}))),D&&s.a.createElement("div",{className:"".concat(B.filterBreadcrumbsItem," pv4 flex items-center")},s.a.createElement(A.a,{orientation:"right",size:13}),s.a.createElement("div",{className:"".concat(B.filterBreadcrumbsItemName," pl3 t-heading-4 c-on-base")},S.formatMessage({id:D})))),i.length>0&&s.a.createElement(U,{title:mt,open:Y,show:!D||Y,onOpen:q(mt),appliedFiltersOverview:f,navigationType:m,initiallyCollapsed:b,onClearFilter:w},s.a.createElement("div",{className:V},s.a.createElement(re,{tree:i,isVisible:i.length>0,onCategorySelect:c,categoryFiltersMode:j,hideBorder:!0}))),Q.map((function(e){var t=e.type,n=e.title,r=D===e.title;switch(t){case"PriceRanges":return s.a.createElement(pt,{title:e.title,facets:e.facets,key:n,className:V,open:r,show:!D||r,onOpen:q(n),onFilterCheck:a,priceRange:u,navigationType:m,initiallyCollapsed:b,priceRangeLayout:P,onClearFilter:function(){T({priceRange:void 0})},onChangePriceRange:p,showClearByFilter:C});default:return s.a.createElement(We,{title:e.title,facets:e.facets,quantity:e.quantity,key:n,className:V,open:r,show:!D||r,onOpen:q(n),onFilterCheck:a,appliedFiltersOverview:f,navigationType:m,initiallyCollapsed:b,truncateFilters:O,truncatedFacetsFetched:h,setTruncatedFacetsFetched:y,onClearFilter:w,showClearByFilter:C,onOpenPostalCodeModal:x,onOpenPickupModal:R})}})),H&&s.a.createElement("div",{style:{background:"rgba(3, 4, 78, 0.4)"},className:o()(B.filterLoadingOverlay,"fixed dim top-0 w-100 vh-100 left-0 z-999 justify-center items-center justify-center items-center flex")},s.a.createElement(L.a,null)))},bt=n(42),Ot=n(43),ht=n(44),yt=n(46),gt=n(33),jt=n(62),Et=n.n(jt),wt=n(92),Ct=n.n(wt),Ft=n(63),Pt=n.n(Ft);function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(gt.a)(e);if(t){var a=Object(gt.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(yt.a)(this,n)}}var Rt=function(e){Object(ht.a)(n,e);var t=xt(n);function n(){return Object(bt.a)(this,n),t.apply(this,arguments)}return Object(Ot.a)(n,[{key:"updateComponent",value:function(){this.props.isOpen?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}},{key:"componentDidMount",value:function(){this.updateComponent()}},{key:"componentDidUpdate",value:function(){this.updateComponent()}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("overflow-hidden")}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onOutsideClick,r=e.filtersDrawerDirectionMobile;if("undefined"==typeof document)return null;var a="".concat(be.a.scrim," fixed dim bg-base--inverted top-0 w-100 vh-100 o-40 left-0")+(t?"":" dn"),i=o()("".concat(be.a.sidebar," w-auto-ns h-100 fixed top-0 bg-base shadow-2 flex flex-column"),this.props.fullWidth?"w-100":"w-80","drawerLeft"===r?"right-0":"left-0");return Et.a.createPortal(s.a.createElement(Ct.a,{onOutsideClick:n},s.a.createElement("div",{style:{willChange:"opacity"},className:a,onClick:n}),s.a.createElement(Pt.a,{className:i,isActive:t,type:r},this.props.children)),document.body)}}]),n}(l.Component),St=Object(g.injectIntl)(Rt),Mt=n(20),kt=n(76),Tt=n(48);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt={baseElementId:"search-result-anchor",top:-z.a},Lt=function(e,t){return e.filter((function(e,n){return n!==t}))},Dt=function(e,t,n){return decodeURIComponent(e).toLowerCase()===decodeURIComponent(n.value).toLowerCase()&&t===n.map},_t=function(e,t,n){var a=e.split(ge.PATH_SEPARATOR),i=t.split(ge.MAP_VALUES_SEP);return Object(y.zip)(a,i).map((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],c=n.find((function(e){return Dt(a,i,e)}));return c?ze(c):a})).join(ge.PATH_SEPARATOR)},Bt=function(e,t){var n=e.split(ge.MAP_VALUES_SEP),r=t.reduce((function(e,t){return t.map===ge.MAP_CATEGORY_CHAR||t.newQuerySegment&&t.newQuerySegment.toLowerCase()!==t.value.toLowerCase()?e.concat(t.map):e}),[]);return n.filter((function(e){return!r.includes(e)})).join(ge.MAP_VALUES_SEP)},zt=function(e){var t=new URLSearchParams(window.location.search);return t.set(ge.MAP_QUERY_KEY,e),e||t.delete(ge.MAP_QUERY_KEY),t.delete("page"),t},qt=function(e,t,n,a,c){var o=a,l=t.find((function(e){return"shipping"===e.key}));l&&!l.selected?(n=n.filter((function(e){return"shipping"!==e.key})),o=!1,c(!1)):l&&l.selected&&(o=!0,c(!0));var s=n.map((function(e){return e.value})),u=n.map((function(e){return e.map}));o&&(s.push("ignore"),u.push("shipping"));var d=e.ft,p=e.seller;return d&&(s.push(d),u.push(ge.FULLTEXT_QUERY_KEY)),p&&-1===u.indexOf(ge.SELLER_QUERY_KEY)&&(s.push(p),u.push(ge.SELLER_QUERY_KEY)),function(e,t,n,a){var c=n.reduce((function(e,t){var n,c,o,l=e.query,s=e.map,u=Object(Mt.a)({},t),d=u.value;if(u.newQuerySegment=ze(u),u.selected){var p=Object(y.zip)(l,s).findIndex((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return Dt(n,a,u)}));return a=a.filter((function(e){return e.value!==u.value&&e.map!==u.map})),{query:Lt(l,p),map:Lt(s,p)}}if(c=u,-1===(o=(n=a).findIndex((function(e){return e.value===c.value&&e.map===c.map})))?n.push(c):n[o]=c,u.map===ge.MAP_CATEGORY_CHAR){var f=s.lastIndexOf(ge.MAP_CATEGORY_CHAR);if(f>=0&&f!==s.length-1)return{query:[].concat(Object(i.a)(l.slice(0,f+1)),[d],Object(i.a)(l.slice(f+1))),map:[].concat(Object(i.a)(s.slice(0,f+1)),[u.map],Object(i.a)(s.slice(f+1)))}}return{query:[].concat(Object(i.a)(l),[d]),map:[].concat(Object(i.a)(s),[u.map])}}),{query:e,map:t});return{query:c.query.join(ge.PATH_SEPARATOR),map:c.map.join(ge.MAP_VALUES_SEP)}}(s,u,t,n)},Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n=Object(d.useRuntime)(),a=n.navigate,c=n.setQuery,o=n.query,s=Object(T.b)(),u=s.map,p=s.query,f=Object(kt.a)(),m=f.fuzzy,v=f.operator,b=f.searchState,O=Object(h.useSearchPage)(),y=O.searchQuery,g=Object(l.useState)(!1),j=Object(r.a)(g,2),E=j[0],w=j[1],C=u.split(",").includes("ft"),F=Object(Tt.d)(p,u),P=Object(l.useCallback)((function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=Array.isArray(n)?n:[n],f=qt(F,d,e,E,(function(e){return w(e)})),O=f.query,h=f.map;if(l&&w(!1),"none"!==t&&window.scroll({top:0,left:0,behavior:t}),r){var g,j,P,x="undefined"!=typeof sessionStorage?null!==(g=sessionStorage.getItem("searchState"))&&void 0!==g?g:b:null!=b?b:void 0,R=At(At({},h&&{map:"".concat(h)}),{},{query:"/".concat(l?o.initialQuery:O),page:void 0,fuzzy:C&&m||void 0,operator:C&&v||void 0,searchState:x,initialMap:null!==(j=o.initialMap)&&void 0!==j?j:u,initialQuery:null!==(P=o.initialQuery)&&void 0!==P?P:p},l?{priceRange:void 0}:{priceRange:s});c(R)}else{var S,M=_t(O,h,[].concat(Object(i.a)(e),Object(i.a)(d))),k=zt(Bt(h,[].concat(Object(i.a)(e),Object(i.a)(d))));if((null==y?void 0:y.variables)&&(!k.get("initialQuery")||!k.get("initialMap"))){var T=y.variables,I=T.map,A=T.query;k.set("initialQuery",A),k.set("initialMap",I)}if(m&&C&&k.set("fuzzy",m),v&&C&&k.set("operator",v),b)k.set("searchState",null!==(S=sessionStorage.getItem("searchState"))&&void 0!==S?S:b);if(s&&k.set("priceRange",s),!M||"ignore"===M){var N=o.initialQuery,L=o.initialMap;if(!N||!L)return;M=N,k.set("map",L)}l&&k.delete("priceRange"),a({to:"".concat(ge.PATH_SEPARATOR).concat(M),query:k.toString(),scrollOptions:Nt,modifiersOptions:{LOWERCASE:!1}})}}),[C,m,F,u,a,v,p,o,t,y,b,e,c,E]);return P},Ut=n(78);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=["filterPopupButton","filterPopupTitle","filterButtonsBox","filterPopupArrowIcon","filterClearButtonWrapper","filterApplyButtonWrapper","filterTotalProducts","filterQuantityBadge"],Kt=function(e,t){var n=Object(l.useState)(e),a=Object(r.a)(n,2),i=a[0],c=a[1];return Object(l.useEffect)((function(){c(e)}),[e]),Object(l.useEffect)((function(){var e;c((e=t,Object(x.a)((function(t){if(e.length){for(var n=t;!n.find((function(t){return t.value===e[0].value}))&&!n.every((function(e){return!e.selected}));)n=n.find((function(e){return e.selected})).children;e.forEach((function(e){var t=n.findIndex((function(t){return t.value===e.value}));n[t].selected=!n[t].selected,n=n[t].children}))}}))))}),[t,e]),i},Wt=function(e){var t=e.selectedFilters,n=e.filters,a=e.tree,c=e.priceRange,o=e.preventRouteChange,u=e.navigateToFacet,p=e.appliedFiltersOverview,f=e.totalProductsOnMobile,m=e.fullWidth,b=e.navigationType,O=e.initiallyCollapsed,y=e.truncateFilters,j=e.truncatedFacetsFetched,w=e.setTruncatedFacetsFetched,C=e.categoryFiltersMode,F=e.loading,P=e.updateOnFilterSelectionOnMobile,x=e.showClearByFilter,R=e.priceRangeLayout,M=e.filtersDrawerDirectionMobile,I=e.showQuantityBadgeOnMobile,A=e.onOpenPostalCodeModal,N=e.onOpenPickupModal,L=Object(h.useSearchPage)().searchQuery,D=Object(T.b)(),_=Object(l.useState)(!1),B=Object(r.a)(_,2),z=B[0],q=B[1],Q=v()(Ht),U=Object(l.useRef)(!1),Y=L&&L.data&&L.data.productSearch&&L.data.productSearch.recordsFiltered,V=Object(l.useState)([]),H=Object(r.a)(V,2),K=H[0],W=H[1],G=Object(l.useState)([]),$=Object(r.a)(G,2),X=$[0],J=$[1],Z=Kt(a,X),ee=Object(l.useState)(!1),te=Object(r.a)(ee,2),ne=te[0],re=te[1],ae=s.a.useMemo((function(){var e,r=n.map((function(e){return e.key}));return(null!==(e=t.filter((function(e){return r.includes(e.key)&&e.selected})))&&void 0!==e?e:[]).length}),[n,t]),ie=function(e,t){return e.find((function(e){return t.value===e.value}))},ce=function(e){Object(Ut.a)(e)||q(!1)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;q(!1),P&&o&&!e||(u(K,o,!1,e),W([]))},le=k()().push,se=function(e){var n;he({name:"CleanFilters",value:!0,products:null!==(n=null==L?void 0:L.products)&&void 0!==n?n:[],push:le}),e||q(!1);var r=!!e;U.current=!P||!o;var a=t.filter((function(t){return!Ae(t.key)&&t.selected&&(!e||e&&e===t.key)}));if(0===a.length&&e)W(K.filter((function(t){return t.key!==e})));else{var c=K.filter((function(e){return Ae(e.key)})),l=[].concat(Object(i.a)(a),Object(i.a)(c));P&&o?u(l,o):(W(e?l:[]),u(l,o,!r))}},ue=Object(l.useMemo)((function(){var e=D.query,n=D.map,r=Object(Tt.d)(e,n);return U.current?(U.current=!1,function(e){for(var t=e.query.split(ge.PATH_SEPARATOR),n=e.map.split(ge.MAP_VALUES_SEP),r=[],a=[],i=0;i<n.length;i++)Ae(n[i])&&(r.push(t[i]),a.push(n[i]));return{query:r.join(ge.PATH_SEPARATOR),map:a.join(ge.MAP_VALUES_SEP)}}(D)):Vt(Vt({},D),qt(r,K,Object(i.a)(t),ne,(function(e){return re(e)})))}),[K,D,t,ne]);return s.a.createElement(l.Fragment,null,s.a.createElement("button",{className:"".concat(be.a.filterPopupButton," ").concat(I?"relative":"","  ph3 pv5 mv0 mv0 pointer flex justify-center items-center ")+(z?"bb b--muted-1":"bn"),onClick:function(){q(!0)}},s.a.createElement("span",{className:"".concat(Q.filterPopupTitle," c-on-base t-action--small ml-auto")},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-action.title"})),s.a.createElement("span",{className:"".concat(Q.filterPopupArrowIcon," ml-auto pl3 pt2")},s.a.createElement(S.a,{size:16,viewBox:"0 0 17 17"}),I&&ae>0&&s.a.createElement("span",{className:"".concat(be.a.filterQuantityBadgeDefault," ").concat(Q.filterQuantityBadge," absolute t-mini bg-muted-2 c-on-muted-2 br4 w1 h1 pa1 flex justify-center items-center lh-solid")},ae))),s.a.createElement(St,{onOutsideClick:ce,isOpen:z,fullWidth:m,filtersDrawerDirectionMobile:M},s.a.createElement(T.a.Provider,{value:ue},s.a.createElement(vt,{filters:n,tree:Z,onFilterCheck:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P&&o?u(e,o):t?W(K.filter((function(t){return t.key!==e.key})).concat(e)):ie(K,e)?W(K.filter((function(t){return t.value!==e.value}))):W(K.concat(e))},onCategorySelect:function(e){var t=Array.isArray(e)?e:[e],n=K.filter((function(e){return e.map===ge.MAP_CATEGORY_CHAR})),r=[].concat(Object(i.a)(n),Object(i.a)(t));P&&o?u(r,o):(J(t),W((function(e){return e.filter((function(e){return e.map!==ge.MAP_CATEGORY_CHAR})).concat(r)})))},priceRange:c,onChangePriceRange:oe,appliedFiltersOverview:p,navigationType:b,initiallyCollapsed:O,truncateFilters:y,truncatedFacetsFetched:j,setTruncatedFacetsFetched:w,categoryFiltersMode:C,loading:F,onClearFilter:se,showClearByFilter:x,updateOnFilterSelectionOnMobile:P,priceRangeLayout:R,onOpenPostalCodeModal:A,onOpenPickupModal:N}),s.a.createElement(d.ExtensionPoint,{id:"sidebar-close-button",onClose:ce})),s.a.createElement("div",{className:"".concat(be.a.filterButtonsBox," bt b--muted-5 bottom-0 fixed w-100 items-center flex z-1 bg-base flex-wrap")},s.a.createElement("div",{className:"".concat(Q.filterClearButtonWrapper," bottom-0 fl w-50 pl4 pr2")},s.a.createElement(E.a,{block:!0,variation:"tertiary",size:"regular",onClick:function(){return se()}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clear"}))),s.a.createElement("div",{className:"".concat(Q.filterApplyButtonWrapper," bottom-0 fr w-50 pr4 pl2")},s.a.createElement(E.a,{block:!0,variation:"secondary",size:"regular",onClick:function(){return oe()}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.apply"}))),"show"===f&&Y&&s.a.createElement("div",{className:"".concat(Q.filterTotalProducts," w-100 flex flex-grow-1 items-center justify-center pre t-small")},s.a.createElement(g.FormattedMessage,{id:"store/search.total-products-2",values:{recordsFiltered:Y,span:function(e){return s.a.createElement("span",null,e)}}})))))};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=["filterItem","productCount","filterItemTitle"],Jt=["global","window","document","self","screen","parent"],Zt=function(e){var t,n=e.navigateToFacet,a=e.facetTitle,i=e.facet,c=e.className,u=e.preventRouteChange,d=e.showTitle,p=void 0!==d&&d,f=e.onOpenPostalCodeModal,m=e.onOpenPickupModal,b=Object(g.useIntl)(),y=k()().push,j=Fe(i),E=j.actionLabel,w=j.actionType,C=j.shouldDisable,F=!!w,P=Object(l.useContext)(ae.a).showFacetQuantity,x=Object(l.useState)(i.selected),R=Object(r.a)(x,2),S=R[0],M=R[1],T=v()(Xt),I=o()(O()(T.filterItem,i.value),c,"lh-copy w-100",i.selected&&"".concat(T.filterItem,"--selected")),A=Object(h.useSearchPage)().searchQuery,N=null==A||null===(t=A.facets)||void 0===t?void 0:t.sampling,L=Jt.includes(i.value)?"filterItem--".concat(i.key,"-").concat(i.value):"".concat(i.key,"-").concat(i.value);Object(l.useEffect)((function(){i.selected!==S&&M(i.selected)}),[i.selected]);var D=Object(l.useMemo)((function(){var e=i.name;return P&&!N&&(e=s.a.createElement(s.a.Fragment,null,e," ",s.a.createElement("span",{"data-testid":"facet-quantity-".concat(i.value,"-").concat(i.quantity),className:T.productCount},"(",i.quantity,")"))),F&&(e=s.a.createElement("div",null,s.a.createElement("div",null,e),s.a.createElement(xe,{label:b.formatMessage({id:null!=E?E:"none"}),openDrawer:"DELIVERY"===w?f:m}))),p&&(e=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:T.filterItemTitle},a),":"," ",e)),e}),[P,N,i.name,i.value,i.quantity,T.productCount,T.filterItemTitle,F,E,p,a,b,w,f,m]);return s.a.createElement("div",{className:I,style:{hyphens:"auto",wordBreak:"break-word",alignSelf:"center"},alt:i.name,title:i.name},s.a.createElement(me.a,{id:L,checked:S,label:D,name:i.name,onChange:function(){var e;he({name:a,value:i.name,products:null!==(e=null==A?void 0:A.products)&&void 0!==e?e:[],push:y}),M(!S),n($t($t({},i),{},{title:a}),u)},value:i.name,disabled:C}))},en=["selectedFilterItem"],tn=function(e){var t=e.map,n=e.filters,r=void 0===n?[]:n,a=e.preventRouteChange,i=void 0!==a&&a,c=e.navigateToFacet,o=e.onOpenPostalCodeModal,u=e.onOpenPickupModal,d=e.showShippingFacet,p=Object(g.useIntl)(),f=v()(en),m=Object(l.useContext)(ae.a).showFacetTitle,b=r.filter((function(e){return!e.hidden})).filter((function(e){return d||"shipping"!==e.key}));if(!b.length)return null;var O=p.formatMessage({id:"store/search.selected-filters"});return s.a.createElement(at,{id:"selectedFilters",title:O,filters:b,collapsable:!1,selected:!0,isSelectedFiltersSection:!0,onOpenPostalCodeModal:o,onOpenPickupModal:u},(function(e){return s.a.createElement(Zt,{map:t,key:e.name,showTitle:m,facetTitle:e.title,facet:e,className:f.selectedFilterItem,preventRouteChange:i,navigateToFacet:c,onOpenPostalCodeModal:o,onOpenPickupModal:u})}))},nn=n(47),rn=function(e){var t=e.title,n=void 0===t?"Default Title":t,r=e.facets,a=void 0===r?[]:r,i=e.quantity,c=void 0===i?0:i,o=e.preventRouteChange,l=void 0!==o&&o,u=e.initiallyCollapsed,d=void 0!==u&&u,p=e.navigateToFacet,f=e.lazyRender,m=void 0!==f&&f,v=e.truncateFilters,b=void 0!==v&&v,O=e.lastOpenFilter,h=e.setLastOpenFilter,y=e.openFiltersMode,j=e.truncatedFacetsFetched,E=e.setTruncatedFacetsFetched,w=e.closeOnOutsideClick,C=e.appliedFiltersOverview,F=e.showClearByFilter,P=e.onOpenPostalCodeModal,x=e.onOpenPickupModal,R=Object(g.useIntl)(),S=a&&a.length>0?a[0]:null,M=Object(z.b)(n,R);return s.a.createElement(at,{id:S?S.map:null,title:M,filters:a,quantity:c,initiallyCollapsed:d,lazyRender:m,truncateFilters:b,lastOpenFilter:O,setLastOpenFilter:h,openFiltersMode:y,truncatedFacetsFetched:j,setTruncatedFacetsFetched:E,closeOnOutsideClick:w,appliedFiltersOverview:C,navigateToFacet:p,showClearByFilter:F,preventRouteChange:l,onOpenPostalCodeModal:P,onOpenPickupModal:x},(function(e){return s.a.createElement(Zt,{key:e.name,facetTitle:M,facet:e,preventRouteChange:l,navigateToFacet:p,onOpenPostalCodeModal:P,onOpenPickupModal:x})}))},an=function(e){var t=e.filter,n=e.priceRange,r=e.preventRouteChange,a=e.initiallyCollapsed,i=e.navigateToFacet,c=e.lazyRender,o=e.truncateFilters,l=void 0!==o&&o,u=e.openFiltersMode,d=void 0===u?"many":u,p=e.lastOpenFilter,f=e.setLastOpenFilter,m=e.truncatedFacetsFetched,v=e.setTruncatedFacetsFetched,b=e.closeOnOutsideClick,O=e.appliedFiltersOverview,h=e.showClearByFilter,y=e.priceRangeLayout,g=e.scrollToTop,j=e.onOpenPostalCodeModal,E=e.onOpenPickupModal,w=t.type,C=t.title,F=t.facets,P=t.quantity,x=t.oneSelectedCollapse,R=void 0!==x&&x;switch(w){case"PriceRanges":return s.a.createElement(dt,{key:C,title:C,facets:F,priceRange:n,preventRouteChange:r,priceRangeLayout:y,scrollToTop:g,showClearByFilter:h,onChangePriceRange:function(e){return i([],r,!1,e)}});default:return s.a.createElement(rn,{key:C,title:C,facets:F,quantity:P,oneSelectedCollapse:R,preventRouteChange:r,initiallyCollapsed:a,navigateToFacet:i,lazyRender:c,truncateFilters:l,lastOpenFilter:p,setLastOpenFilter:f,openFiltersMode:d,truncatedFacetsFetched:m,setTruncatedFacetsFetched:v,closeOnOutsideClick:b,appliedFiltersOverview:O,showClearByFilter:h,onOpenPostalCodeModal:j,onOpenPickupModal:E})}},cn=function(e){var t=e.filters,n=void 0===t?[]:t,a=Object(nn.a)(e,["filters"]),i=Object(l.useState)(),c=Object(r.a)(i,2),o=c[0],u=c[1];return n.map((function(e,t){return s.a.createElement(an,Object(Mt.a)({filter:e},a,{lastOpenFilter:o,setLastOpenFilter:u,key:e.title,lazyRender:t>=3}))}))},on=["filterMessage"],ln=function(e){var t=e.filtersTitleHtmlTag,n=void 0===t?"h5":t,r=v()(on),a=n;return s.a.createElement(a,{className:"".concat(r.filterMessage," ").concat("h5"===n?"t-heading-5":""," mv5")},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.title"}))},sn=n(34);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw i}}}}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mn=["filter__container","filtersWrapper","filtersWrapperMobile","clearAllFilters"],vn={responsive:"responsive",desktop:"desktop",phone:"phone"},bn={drawerRight:"drawerRight",drawerLeft:"drawerLeft"};t.default=function(e){var t,n,a,c=e.priceRange,p=e.tree,m=void 0===p?[]:p,b=e.specificationFilters,j=void 0===b?[]:b,w=e.deliveries,F=void 0===w?[]:w,x=e.priceRanges,R=void 0===x?[]:x,S=e.brands,M=void 0===S?[]:S,k=e.loading,T=void 0!==k&&k,I=e.filters,A=void 0===I?[]:I,N=e.preventRouteChange,L=void 0!==N&&N,D=e.hiddenFacets,_=void 0===D?{}:D,B=e.initiallyCollapsed,z=void 0!==B&&B,q=e.truncateFilters,Q=void 0!==q&&q,U=e.layout,Y=void 0===U?vn.responsive:U,V=e.maxItemsDepartment,H=void 0===V?8:V,K=e.maxItemsCategory,W=void 0===K?8:K,G=e.categoryFiltersMode,$=void 0===G?"default":G,X=e.filtersTitleHtmlTag,J=void 0===X?"h5":X,Z=e.scrollToTop,ee=void 0===Z?"none":Z,te=e.openFiltersMode,ne=void 0===te?"many":te,ae=e.filtersFetchMore,ie=e.closeOnOutsideClick,ce=void 0!==ie&&ie,oe=e.appliedFiltersOverview,le=void 0===oe?"hide":oe,se=e.totalProductsOnMobile,de=void 0===se?"hide":se,pe=e.fullWidthOnMobile,fe=void 0!==pe&&pe,me=e.navigationTypeOnMobile,ve=void 0===me?"page":me,Oe=e.updateOnFilterSelectionOnMobile,he=void 0!==Oe&&Oe,ye=e.drawerDirectionMobile,ge=void 0===ye?bn.drawerLeft:ye,je=e.showClearByFilter,Ee=void 0!==je&&je,we=e.showClearAllFiltersOnDesktop,Ce=void 0!==we&&we,Fe=e.priceRangeLayout,Pe=void 0===Fe?"slider":Fe,xe=e.showQuantityBadgeOnMobile,Re=void 0!==xe&&xe,Se=Object(g.useIntl)(),Me=f()().isMobile,ke=v()(mn),Te=Object(l.useState)(!1),Ie=Object(r.a)(Te,2),Ae=Ie[0],Ne=Ie[1],Le=Object(l.useState)(!1),De=Object(r.a)(Le,2),_e=De[0],Be=De[1],qe=Object(l.useState)(!1),Qe=Object(r.a)(qe,2),Ue=Qe[0],Ye=Qe[1],Ve=Me&&Y===vn.responsive||Y===vn.mobile||Y===vn.phone,He=null!==(t=bn[ge])&&void 0!==t?t:bn.drawerLeft;Object(l.useEffect)((function(){var e=!!A.find((function(e){return e.quantity>e.facets.length}));Ae&&e&&!T&&ae({variables:{from:ue.a,to:void 0},updateQuery:function(e,t){var n=t.fetchMoreResult;if(e&&n){for(var r=e.facets.facets,a=n.facets.facets,c=[],o=0;o<r.length;o++){var l=[].concat(Object(i.a)(r[o].facets),Object(i.a)(a[o].facets));c.push(dn(dn({},r[o]),{},{facets:l}))}return{facets:dn(dn({},e.facets),{},{facets:c})}}}})}),[A,ae,Ae,T]);var Ke=F.map((function(e){return dn(dn({},e),{},{facets:e.facets.map((function(e){return dn(dn({},e),{},{name:Se.formatMessage({id:sn.d[e.name]})})}))})})),We=Object(l.useMemo)((function(){var e=[].concat(Object(i.a)(j.concat(Ke).map((function(e){return e.facets.map((function(t){return dn(dn({},function(e){return dn(dn({},e),{},{newQuerySegment:ze(e)})}(dn(dn({},t),{},{title:e.name}))),{},{hidden:e.hidden})}))}))),Object(i.a)(M),Object(i.a)(R));return Object(y.flatten)(e)}),[M,R,j,Ke]).filter((function(e){return e.selected})),Ge=Object(h.useSearchPage)(),$e=Ge.searchQuery,Xe=Ge.showShippingFacet,Je=(null==$e||null===(n=$e.variables)||void 0===n||null===(a=n.selectedFacets)||void 0===a?void 0:a.length)>1,Ze=function e(t){var n,r=pn(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.selected)return a.children?[a].concat(Object(i.a)(e(a.children))):[a]}}catch(e){r.e(e)}finally{r.f()}return[]}(m),et=Qt(Object(l.useMemo)((function(){return Ze.concat(We)}),[We,Ze]),ee),tt=o()(Ve&&"flex items-center justify-center flex-auto h-100",T&&"dn");return s.a.createElement(l.Fragment,null,T&&!Ve?s.a.createElement("div",{className:"mv5"},s.a.createElement(u.a,{style:{width:"230px",height:"320px"},width:"230",height:"320",y:"0",x:"0"},s.a.createElement("rect",{width:"100%",height:"1em"}),s.a.createElement("rect",{width:"100%",height:"8em",y:"1.5em"}),s.a.createElement("rect",{width:"100%",height:"1em",y:"10.5em"}),s.a.createElement("rect",{width:"100%",height:"8em",y:"12em"}))):null,Ve?s.a.createElement("div",{className:be.a.filters},s.a.createElement("div",{className:"".concat(tt," ").concat(ke.filtersWrapperMobile)},s.a.createElement(Wt,{selectedFilters:Ze.concat(We),filters:A,tree:m,priceRange:c,preventRouteChange:L,navigateToFacet:et,appliedFiltersOverview:le,totalProductsOnMobile:de,fullWidth:fe,navigationType:ve,initiallyCollapsed:z,truncateFilters:Q,truncatedFacetsFetched:Ae,setTruncatedFacetsFetched:Ne,categoryFiltersMode:$,loading:T,updateOnFilterSelectionOnMobile:he,showClearByFilter:Ee,priceRangeLayout:Pe,filtersDrawerDirectionMobile:He,showQuantityBadgeOnMobile:Re,onOpenPostalCodeModal:function(){return Be(!0)},onOpenPickupModal:function(){return Ye(!0)}}))):s.a.createElement(l.Fragment,null,s.a.createElement("div",{className:"".concat(tt," ").concat(ke.filtersWrapper)},s.a.createElement("div",{className:"".concat(O()(ke.filter__container,"title")," bb b--muted-4")},s.a.createElement(ln,{filtersTitleHtmlTag:J})),s.a.createElement(tn,{filters:We,preventRouteChange:L,navigateToFacet:et,onOpenPostalCodeModal:function(){return Be(!0)},onOpenPickupModal:function(){return Ye(!0)},showShippingFacet:Xe}),s.a.createElement(re,{title:sn.a,tree:m,isVisible:!_.categories,onCategorySelect:et,preventRouteChange:L,maxItemsDepartment:H,maxItemsCategory:W,categoryFiltersMode:$}),s.a.createElement(cn,{filters:A,priceRange:c,preventRouteChange:L,initiallyCollapsed:z,navigateToFacet:et,truncatedFacetsFetched:Ae,setTruncatedFacetsFetched:Ne,truncateFilters:Q,openFiltersMode:ne,closeOnOutsideClick:ce,appliedFiltersOverview:le,showClearByFilter:Ee,priceRangeLayout:Pe,scrollToTop:ee,onOpenPostalCodeModal:function(){return Be(!0)},onOpenPickupModal:function(){return Ye(!0)}}),Ce&&Je&&s.a.createElement("div",{className:"".concat(O()(ke.filter__container,"clearAllFilters")," bb b--muted-4")},s.a.createElement(E.a,{onClick:function(){et(We,L,!0)}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clearAll"})))),s.a.createElement(d.ExtensionPoint,{id:"shop-review-summary"})),s.a.createElement(C.a,{isOpen:_e,onClose:function(){return Be(!1)}}),s.a.createElement(P.a,{isOpen:Ue,onClose:function(){return Ye(!1)}}))}},23:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.messages[e]?t.formatMessage({id:e}):e}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var a=90},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(0),a=Object(r.createContext)({});t.a=a;var i=function(){return Object(r.useContext)(a)}},39:function(e,t,n){"use strict";var r=n(0);t.a=function(e,t,n){var a=Object(r.useCallback)((function(n){return e&&e.current&&!e.current.contains(n.target)&&t(n)}),[t,e]);Object(r.useLayoutEffect)((function(){return n&&document.addEventListener("mousedown",a),function(){return document.removeEventListener("mousedown",a)}}),[n,a])}},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n(12),a=n(8),i=n(1),c=n(0),o=n(87),l=n.n(o),s=n(24);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return l()(e,{lower:!0,remove:/[*+~.()'"!:@]/g})}t.a=function(e){var t=Object(c.useContext)(s.a),n=t.query,r=t.map,o=Object(i.zip)(n.toLowerCase().split("/").map((function(e){return p(decodeURIComponent(e))})),r.split(","));return e.map((function(e){var t=decodeURIComponent(e.value).toLowerCase(),n=void 0!==o.find((function(n){var r=Object(a.a)(n,2),i=r[0],c=r[1];return i===t&&c===e.map}));return d(d({},e),{},{selected:n})}))}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(0),i=n.n(a),c=function(e){var t=e.lazyRender,n=void 0!==t&&t,c=e.height,o=void 0===c?400:c,l=e.offset,s=void 0===l?200:l,u=e.waitForUserInteraction,d=void 0===u||u,p=Object(a.useRef)(null),f=Object(a.useState)(!1),m=Object(r.a)(f,2),v=m[0],b=m[1];return function(e){var t=e.ref,n=e.onView,i=e.threshold,c=void 0===i?0:i,o=e.once,l=void 0!==o&&o,s=e.bailOut,u=void 0!==s&&s,d=e.initializeOnInteraction,p=void 0!==d&&d,f=Object(a.useRef)(!1),m=Object(a.useRef)(!1);Object(a.useEffect)((function(){var e,a,i=function(){var e=t.current;if(u||f.current||!e||!n||l&&m.current)return function(){};f.current=!0;var a=function(){f.current&&(i.unobserve(e),f.current=!1)},i=new IntersectionObserver((function(e){var t=Object(r.a)(e,1)[0];t.isIntersecting&&(t.intersectionRatio<c||(l&&a(),m.current=!0,n({entry:t,unobserve:a})))}));return i.observe(e),a};if(p){var o=function(){var e,t;null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.removeEventListener("scroll",d),null===(t=null===window||void 0===window?void 0:window.document)||void 0===t||t.removeEventListener("mouseover",d)},s=function(){o()},d=function(){o(),s=i()};return window.pageYOffset>0&&d(),null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.addEventListener("scroll",d),null===(a=null===window||void 0===window?void 0:window.document)||void 0===a||a.addEventListener("mouseover",d),s}return i()}),[u,p,n,l,t,c])}({ref:p,onView:function(){return b(!0)},once:!0,initializeOnInteraction:d,bailOut:!n}),{hasBeenViewed:v||!n,dummyElement:i.a.createElement("div",{style:{width:"100%",height:o,position:"relative"}},i.a.createElement("div",{ref:p,style:{top:-s,bottom:0,left:0,right:0,position:"absolute"}}))}}},76:function(e,t,n){"use strict";var r=n(7),a=n(1);t.a=function(){var e=Object(r.useSearchPage)().searchQuery;return{fuzzy:Object(a.path)(["data","productSearch","fuzzy"],e),operator:Object(a.path)(["data","productSearch","operator"],e),searchState:Object(a.path)(["data","productSearch","searchState"],e)}}},78:function(e,t,n){"use strict";t.a=function(e){if(!e.target)return!1;var t=e.target.closest(".".concat("vtex-shipping-option-components-0-x-drawer")),n=e.target.classList.contains("vtex-shipping-option-components-0-x-overlay");return t||n}}}]);