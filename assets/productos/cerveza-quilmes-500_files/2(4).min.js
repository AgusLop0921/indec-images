(window.webpackJsonpvtex_login_2_69_1=window.webpackJsonpvtex_login_2_69_1||[]).push([[2],{68:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a.n(n),o=a(0),l=a.n(o),c=a(29),i=a.n(c),s=a(6),u=a(11),d=a.n(u),m=a(17),p=a(2),b=a(25),v=a.n(b),f=a(30),O=a.n(f),E=a(19),g=a.n(E),j=a(5),h=a(13),w=function(){var e,t,a;return null!==(a=null===(t=null===(e=null===window||void 0===window?void 0:window.__RENDER_8_SESSION__)||void 0===e?void 0:e.patchSession)||void 0===t?void 0:t.call(e))&&void 0!==a?a:Promise.resolve()},C=function(e){var t,a=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.search;return a&&URLSearchParams?new URLSearchParams(a).get(e):null},S=function(e){var t,a,n;return e?"".concat(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.pathname).concat(null===(a=null===window||void 0===window?void 0:window.location)||void 0===a?void 0:a.search):null!==(n=function(){var e,t=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.search;return t&&URLSearchParams?new URLSearchParams(t).get("returnUrl"):null}())&&void 0!==n?n:null},y=a(16),k=Object(o.createContext)(null),P=function(){var e=Object(o.useContext)(k);if(!e)throw new Error('"useAuth" must be inside a Provider');return e},N=function(e){var t,a=e.children,n=e.isHeaderLogin,r=void 0!==n&&n,c=Object(o.useMemo)((function(){return S(r)}),[r]),i=Object(y.b)(),s=null!==(t=null==i?void 0:i.email)&&void 0!==t?t:C("userEmail"),u=O()({actionArgs:{returnUrl:c}}),b=Object(p.a)(u,1)[0],f=Object(o.useCallback)(Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return r?null===(t=null===window||void 0===window?void 0:window.location)||void 0===t||t.reload():b(),a=new Promise((function(){})),e.next=6,a;case 6:case"end":return e.stop()}}),e)}))),[b,r]),E=Object(o.useState)(s&&g.a.validateEmail(s)?s:""),P=Object(p.a)(E,2),N=P[0],A=P[1],L=Object(o.useState)(""),M=Object(p.a)(L,2),F=M[0],x=M[1],I=Object(o.useState)(null),R=Object(p.a)(I,2),B=R[0],D=R[1];return l.a.createElement(v.a,{scope:"STORE",parentAppId:j.c,returnUrl:c,email:s},(function(e){return e.loading?l.a.createElement("div",{"data-testid":"loading-session"},l.a.createElement(h.a,null)):l.a.createElement(v.a.IdentityProviders,null,(function(e){var t=e.value;return l.a.createElement(k.Provider,{value:{idProviders:t,redirectAfterLogin:f,returnUrl:c,userEmail:N,userPhone:F,accessCodeDeliveryMethod:B,setUserEmail:A,setUserPhone:x,setAccessCodeDeliveryMethod:D}},a)}))}))},A=a(7),L="loginOptions",M="beginCodeLogin",F="codeLogin",x="passwordLogin",I="beginCreatePass",R="createPassword",B="corporateEmail",D="selectCodeDeliveryMethodLogin",U="selectCodeDeliveryMethodPassRecovery",T=function(){var e=C("userEmail"),t=C("flowState"),a=P().idProviders;return"createPass"===t&&e&&a.password?R:null},z=[M,x,B],V=function(e){var t=e.defaultOption,a=e.alwaysShowLoginOptions,n=P().idProviders,r=T();if(r)return r;if(!a)return L;var o=t?z[t]:null;return o===M&&n.accessKey?M:o===x&&n.password?x:o===B&&n.corporateProviders.length>0?B:n.accessKey?M:n.password?x:n.corporateProviders.length?B:null},_=Object(o.createContext)(null),K=function(){var e=Object(o.useContext)(_);if(!e)throw new Error('"useStateMachine" must be inside a Provider');return e},Z=[F,x,R,M,I],H=function(e){var t=e.children,a=Object(A.b)(),n=a.isInitialScreenOptionOnly,r=a.defaultOption,c=!n,i=V({defaultOption:null!=r?r:null,alwaysShowLoginOptions:c}),s=Object(o.useState)(i),u=Object(p.a)(s,2),d=u[0],m=u[1],b=Object(o.useRef)(null),v=Object(o.useCallback)((function(){window.setTimeout((function(){var e;null===(e=b.current)||void 0===e||e.focus()}),0)}),[]),f=Object(o.useCallback)((function(e){m(e),Z.includes(e)&&v()}),[]);return l.a.createElement(_.Provider,{value:{step:d,setStep:f,alwaysShowLoginOptions:c,inputToFocusRef:b}},t)},q=function(){var e=P().idProviders,t=K().step;return t===x?{accessKey:e.accessKey,password:!1,oAuthProviders:e.oAuthProviders,corporateProviders:e.corporateProviders}:t===M?{accessKey:!1,password:e.password,oAuthProviders:e.oAuthProviders,corporateProviders:e.corporateProviders}:t===B?{accessKey:e.accessKey,password:e.password,oAuthProviders:e.oAuthProviders,corporateProviders:[]}:e},G=function(e){var t=0;return e.accessKey&&t++,e.password&&t++,t+=e.oAuthProviders.length,t+=e.corporateProviders.length},W=function(){var e=q();return{alternatives:e,amount:G(e)}},J=a(20),$=a(1),Q=a.n($),X=a(38),Y=a(9),ee=a(4),te=a(49),ae=a.n(te),ne=a(31),re=a.n(ne),oe=a(8),le=a.n(oe),ce=a(10),ie=a.n(ce),se=a(3),ue=function(e){var t=e.children;return l.a.createElement("h3",{className:"".concat(Q.a.formTitle," t-body v-mid ttu tc relative pv2 ph3 br2")},t)},de=function(e){var t=e.children;return l.a.createElement("div",{className:"".concat(Q.a.formFooter," bt b--muted-4 pt4 flex mt3")},t)},me=function(e){var t=e.className,a=e.title,n=e.subtitle,r=e.content,o=e.footer,c=e.onSubmit,i=e.children;return l.a.createElement("div",{className:t},l.a.createElement(ue,null,a,n&&l.a.createElement("div",{className:"".concat(Q.a.formSubtitle," mt5 t-body c-muted-1")},n)),l.a.createElement("form",{onSubmit:c},r,l.a.createElement(de,null,o),i))},pe=function(e){var t=e.children;return e.show?l.a.createElement("div",{role:"alert",className:"".concat(Q.a.formError," bg-danger--faded t-small tc pa1 mv1 mh0")},t):null};pe.defaultProps={show:!1};var be=pe,ve=a(26),fe=a.n(ve),Oe=a(50),Ee=a.n(Oe),ge=function(){return Boolean(Object(s.useChildBlock)({id:"icon-arrow-back"}))?l.a.createElement(s.ExtensionPoint,{id:"icon-arrow-back",size:10,viewBox:"0 0 16 11"}):l.a.createElement(Ee.a,{size:10,viewBox:"0 0 16 11"})},je=function(e){var t=e.prevStep,a=Object(ee.useIntl)(),n=K().setStep;return l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:Q.a.backButton},l.a.createElement(fe.a,{icon:l.a.createElement(ge,null),iconPosition:"left",variation:"tertiary",size:"small",onClick:function(){return n(t)}},l.a.createElement("span",{className:"t-small ml2"},Object(se.a)("store/login.goBack",a)))))},he=function(e){var t=e.prevStep,a=e.onSendMail,n=e.onGetPhoneNumber,r=e.showBackButton,c=Object(s.useRuntime)().account,i=K().inputToFocusRef,u=Object(ee.useIntl)(),d=Object(o.useState)(!1),m=Object(p.a)(d,2),b=m[0],v=m[1],f=Object(o.useState)(!1),O=Object(p.a)(f,2),E=O[0],h=O[1],w=P(),C=w.setUserEmail,S=w.returnUrl,y=w.userEmail,k=w.setUserPhone,N=w.setAccessCodeDeliveryMethod,L=Object(o.useState)(y),M=Object(p.a)(L,2),F=M[0],x=M[1],I=Object(A.b)(),R=I.disabledEmailInputs,B=I.accessCodeTitle,D=I.emailPlaceholder,U=Object(o.useCallback)((function(){var e;null===(e=i.current)||void 0===e||e.focus()}),[]),T=Object(o.useCallback)((function(e){var t=Object(p.a)(e.args,1)[0].email;C(t),a()}),[a,C]),z=Object(o.useCallback)((function(){h(!0),U()}),[U]),V=re()({optionsAsyncCallback:{onSuccess:T,onFailure:z},scope:"STORE",parentAppId:j.c,returnUrl:S}),_=Object(p.a)(V,2),Z=_[0],H=_[1].loading,q=Object(o.useCallback)((function(e){var t=e.value;k(t),C(F),n()}),[n,F,C,k]),G=Object(o.useCallback)((function(){Z({email:F,useNewLoginAttempt:!1})}),[F,Z]),W=ae()({optionsAsyncCallback:{onSuccess:q,onFailure:G},parentAppId:j.c,returnUrl:S}),J=Object(p.a)(W,2),$=J[0],X=J[1].loading,Y=Object(o.useCallback)((function(e){if(e.preventDefault(),k(""),N(null),!g.a.validateEmail(F))return v(!0),void U();Object(j.f)(c)?$({email:F,useNewLoginAttempt:!0}):Z({email:F,useNewLoginAttempt:!0})}),[c,U,$,F,Z,N,k]);return l.a.createElement(me,{className:"".concat(Q.a.emailVerification," ").concat(Q.a.emailForm," w-100"),title:B||Object(se.a)("store/loginOptions.emailVerification",u),content:l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerEmail)},l.a.createElement(ie.a,{ref:i,type:"email",name:"email",value:F,disabled:R,onChange:function(e){return x(e.target.value)},placeholder:D||Object(se.a)("store/login.email.placeholder",u)})),l.a.createElement(be,{show:b},Object(se.a)("store/login.invalidEmail",u)),l.a.createElement(be,{show:E},Object(se.a)("store/login.userBlocked",u))),footer:l.a.createElement(o.Fragment,null,r&&l.a.createElement(je,{prevStep:t}),l.a.createElement("div",{className:"".concat(Q.a.sendButton," ml-auto")},l.a.createElement(le.a,{variation:"primary",size:"small",type:"submit",isLoading:H||X,onClick:Y},l.a.createElement("span",{className:"t-small"},Object(se.a)("store/login.send",u)))))})},we=function(){var e=K(),t=e.setStep,a=e.alwaysShowLoginOptions,n=Object(o.useCallback)((function(){t(F)}),[t]),r=Object(o.useCallback)((function(){t(D)}),[t]);return l.a.createElement(he,{prevStep:L,onGetPhoneNumber:r,onSendMail:n,showBackButton:!a})},Ce=function(){var e=K().setStep,t=Object(o.useCallback)((function(){e(R)}),[e]),a=Object(o.useCallback)((function(){e(U)}),[e]);return l.a.createElement(he,{prevStep:x,onGetPhoneNumber:a,onSendMail:t,showBackButton:!0})},Se=a(51),ye=a.n(Se),ke=/[\u0620-\u064A\u066E-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FF]/g,Pe=/[\u0660-\u0669\u06f0-\u06f9]/g,Ne=function(e){if(e.length<8)return!1;if(!/\d/.test(e)&&!Pe.test(e))return!1;var t=/[A-Z]/.test(e),a=/[a-z]/.test(e);return!(!t||!a)||ke.test(e)},Ae=function(e){return new RegExp(/^[0-9]{6}$/).test(e)},Le=function(){var e=K().inputToFocusRef,t=Object(ee.useIntl)(),a=Object(A.b)().accessCodePlaceholder,n=P(),r=n.redirectAfterLogin,c=n.userEmail,i=n.userPhone,s=n.accessCodeDeliveryMethod,u=Object(o.useState)(!1),d=Object(p.a)(u,2),m=d[0],b=d[1],v=Object(o.useState)(!1),f=Object(p.a)(v,2),O=f[0],E=f[1],g=Object(o.useState)(""),h=Object(p.a)(g,2),w=h[0],C=h[1],S=Object(o.useCallback)((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),[]),y="sms"===s?t.formatMessage({id:"store/login.accessCodeTitleSMS"},{phone:i}):t.formatMessage({id:"store/login.accessCodeTitle"}),k=Object(o.useCallback)((function(e){"WrongCredentials"===e.code?E(!0):console.error(e)}),[]),N=ye()({onSuccess:r,onFailure:k,parentAppId:j.c}),L=Object(p.a)(N,2),F=L[0],x=L[1].loading,I=Object(o.useCallback)((function(e){e.preventDefault(),Ae(w)?F({email:c,accessKey:w}):(b(!0),S())}),[S,w,c,F]);return l.a.createElement(me,{className:"".concat(Q.a.codeConfirmation," w-100"),title:y,content:l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerAccessCode," pv3")},l.a.createElement(ie.a,{ref:e,token:!0,name:"token",value:w,onChange:function(e){var t=e.target.value.replace(/[^\d]/g,"").substring(0,6);C(t),b(!1)},placeholder:null!=a?a:Object(se.a)("store/login.accessCode.placeholder",t)})),l.a.createElement(be,{show:m},Object(se.a)("store/login.invalidCode",t)),l.a.createElement(be,{show:O},Object(se.a)("store/login.wrongCredentials",t))),footer:l.a.createElement(o.Fragment,null,l.a.createElement(je,{prevStep:M}),l.a.createElement("div",{className:"".concat(Q.a.sendButton," ml-auto")},l.a.createElement(le.a,{variation:"primary",size:"small",type:"submit",isLoading:x,onClick:I},l.a.createElement("span",{className:"t-small"},Object(se.a)("store/login.confirm",t)))))})},Me=function(){var e=Object(ee.useIntl)().formatMessage,t=K().alwaysShowLoginOptions,a=Object(A.b)().disabledEmailInputs,n=P().userEmail,r=Object(o.useState)(null!=n?n:""),c=Object(p.a)(r,2),i=c[0],s=c[1],u=Object(o.useState)(null),d=Object(p.a)(u,2),m=d[0],b=d[1],v=Object(o.useCallback)((function(e){e.preventDefault(),i?g.a.validateEmail(i)||b(l.a.createElement(ee.FormattedMessage,{id:"store/login.invalidEmail"})):b(l.a.createElement(ee.FormattedMessage,{id:"store/login.emptyField"}))}),[i]);return l.a.createElement(me,{className:"".concat(Q.a.corporateEmail," w-100"),title:l.a.createElement(ee.FormattedMessage,{id:"store/loginOptions.corporate"}),content:l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a,{type:"email","aria-label":e({id:"store/login.email"}),value:i,disabled:a,onChange:function(e){b(null),s(e.target.value)},placeholder:e({id:"store/login.email.placeholder"})}),l.a.createElement(be,{show:!!m},m)),footer:l.a.createElement("div",{className:"flex justify-between w-100"},!t&&l.a.createElement(je,{prevStep:L}),l.a.createElement(le.a,{type:"submit",size:"small",block:t,isLoading:!1,onClick:v},l.a.createElement("div",{className:"t-small"},l.a.createElement(ee.FormattedMessage,{id:"store/login.continue"}))))})},Fe=a(52),xe=a.n(Fe),Ie=a(53),Re=a.n(Ie),Be=function(e){var t=e.valid,a=e.prefix,n=e.label,r="flex flex-row "+(void 0===t?"c-muted-2":t?"c-success":"c-danger");return l.a.createElement("div",{className:r},l.a.createElement("div",{className:"w-20"},l.a.createElement("span",{className:"t-small"},a)),l.a.createElement("div",{className:"w-80","aria-live":"polite","aria-atomic":"true"},l.a.createElement("span",{className:"t-small"},n),l.a.createElement("span",{className:"clip"},t?l.a.createElement(ee.FormattedMessage,{id:"store/login.password.requirementMet"}):l.a.createElement(ee.FormattedMessage,{id:"store/login.password.requirementNotMet"}))))},De=function(e){var t=e.fields;return l.a.createElement(o.Fragment,null,t.map((function(e){return l.a.createElement("div",{className:"mt2",key:e.id},l.a.createElement(Be,{label:e.label,prefix:e.prefix,valid:e.valid}))})))},Ue=function(e){var t=e.children,a=e.title,n=e.top,r="".concat(Q.a.tooltipContainer," pa5 br2 absolute z-max bg-near-black ")+(n?"".concat(Q.a.tooltipContainerTop," mb2"):"".concat(Q.a.tooltipContainerLeft," mr2"));return l.a.createElement("div",{className:r},l.a.createElement("div",{className:"pa2"},a&&l.a.createElement("div",{className:"mb3"},l.a.createElement("span",{className:"t-action b ttu c-on-base--inverted"},a)),t))},Te=function(){var e;return null===(e=null===window||void 0===window?void 0:window.matchMedia)||void 0===e?void 0:e.call(window,"(max-width: 40em)").matches},ze=function(e){var t=e.fields,a=Object(ee.useIntl)();return Te()?l.a.createElement(Ue,{top:!0,title:Object(se.a)("store/login.password.tooltip.title",a)},l.a.createElement(De,{fields:t})):l.a.createElement(Ue,{title:Object(se.a)("store/login.password.tooltip.title",a)},l.a.createElement(De,{fields:t}))},Ve=function(e){var t=e.onClick,a=e.showPassword,n=Boolean(Object(s.useChildBlock)({id:"icon-eye-sight"})),r="".concat(Q.a.eyeIcon,"--visible"),c="".concat(Q.a.eyeIcon,"--invisible"),i=Object(o.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),t())}),[t]);return l.a.createElement("span",{className:"".concat(a?r:c," pointer"),onClick:t,onKeyDown:i,role:"button","aria-label":"show-password",tabIndex:0},n?l.a.createElement(s.ExtensionPoint,{id:"icon-eye-sight",type:"filled",state:a?"off":"on",size:16}):l.a.createElement(Re.a,{type:"filled",state:a?"off":"on",size:16}))},_e=function(e,t){var a=e.password,n=e.placeholder,r=e.showPasswordVerificationIntoTooltip,c=e.onStateChange,i=Object(o.useState)(!1),s=Object(p.a)(i,2),u=s[0],d=s[1],m=Object(o.useState)(!1),b=Object(p.a)(m,2),v=b[0],f=b[1],O=Object(o.useState)(!1),E=Object(p.a)(O,2),g=E[0],j=E[1],h=Object(o.useState)(!1),w=Object(p.a)(h,2),C=w[0],S=w[1],y=Object(o.useState)(!1),k=Object(p.a)(y,2),P=k[0],N=k[1],A=Object(o.useState)(!1),L=Object(p.a)(A,2),M=L[0],F=L[1],x=Object(o.useState)(!1),I=Object(p.a)(x,2),R=I[0],B=I[1],D=Object(o.useState)(!1),U=Object(p.a)(D,2),T=U[0],z=U[1],V=Object(o.useCallback)((function(){f((function(e){return!e}))}),[f]),_=[{id:0,prefix:"ABC",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.uppercaseLetter"}),valid:C},{id:1,prefix:"abc",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.lowercaseLetter"}),valid:g},{id:2,prefix:"123",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.number"}),valid:P},{id:3,prefix:"***",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.eightCharacteres"}),valid:M}],K=[{id:4,prefix:"Abc",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.letter"}),valid:R||g||C},{id:5,prefix:"123",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.number"}),valid:T||P},{id:6,prefix:"***",label:l.a.createElement(ee.FormattedMessage,{id:"store/login.password.eightCharacteres"}),valid:M}],Z=R||T?K:_;return l.a.createElement("div",{className:"relative"},l.a.createElement(ie.a,{ref:t,type:"".concat(v?"text":"password"),value:a,onChange:function(e){var t=e.target.value;j(null!=t.match(/[a-z]/g)),S(null!=t.match(/[A-Z]/g)),N(null!=t.match(/[0-9]/g)),F(t.length>=8),B(null!=t.match(ke)),z(null!=t.match(Pe)),c({password:t})},placeholder:n||l.a.createElement(ee.FormattedMessage,{id:"store/login.password.placeholder"}),onBlur:function(){return d(!r)},onFocus:function(){return d(!0)},suffixIcon:l.a.createElement(Ve,{showPassword:v,onClick:V})}),u&&(r?l.a.createElement(ze,{fields:Z}):l.a.createElement("div",{className:"pa2"},l.a.createElement(De,{fields:Z}))))},Ke=Object(o.forwardRef)(_e),Ze=function(e){var t=e.showPasswordVerificationIntoTooltip,a=Object(ee.useIntl)(),n=Object(o.useRef)(null),r=Object(A.b)(),c=r.accessCodePlaceholder,i=r.passwordPlaceholder,s=Object(o.useState)(""),u=Object(p.a)(s,2),d=u[0],m=u[1],b=Object(o.useState)(""),v=Object(p.a)(b,2),f=v[0],O=v[1],E=Object(o.useState)(!1),h=Object(p.a)(E,2),w=h[0],C=h[1],S=Object(o.useState)(!0),y=Object(p.a)(S,2),k=y[0],N=y[1],L=Object(o.useState)(!1),M=Object(p.a)(L,2),F=M[0],I=M[1],B=Object(o.useState)(!1),D=Object(p.a)(B,2),U=D[0],T=D[1],z=Object(o.useState)(!1),V=Object(p.a)(z,2),_=V[0],Z=V[1],H=Object(o.useState)(!1),q=Object(p.a)(H,2),G=q[0],W=q[1],J=Object(o.useState)(""),$=Object(p.a)(J,2),X=$[0],Y=$[1],te=K(),ae=te.setStep,ne=te.inputToFocusRef,re=P(),oe=re.redirectAfterLogin,ce=re.userEmail,ue=re.userPhone,de="sms"===re.accessCodeDeliveryMethod,pe=de?a.formatMessage({id:"store/login.createPasswordSMS"},{phone:ue}):a.formatMessage({id:"store/login.createPassword"},{email:ce}),ve=de?a.formatMessage({id:"store/login.createPasswordSubtitleSMS"},{phone:ue}):a.formatMessage({id:"store/login.createPasswordSubtitle"},{email:ce}),fe=Object(o.useCallback)((function(){var e;null===(e=n.current)||void 0===e||e.focus()}),[]),Oe=Object(o.useCallback)((function(){var e;null===(e=ne.current)||void 0===e||e.focus()}),[]),Ee=Object(o.useCallback)((function(e){N(!0),Y(e.target.value)}),[]),ge=Object(o.useCallback)((function(){ae(R),oe()}),[oe,ae]),he=Object(o.useCallback)((function(e){"BlockedUser"===e.code?(Z(!0),Oe()):"WrongCredentials"===e.code?(T(!0),Oe()):"PasswordAlreadyUsed"===e.code?(W(!0),fe()):console.error(e)}),[Oe,fe]),we=xe()({onSuccess:ge,onFailure:he,scope:"STORE",parentAppId:j.c}),Ce=Object(p.a)(we,2),Se=Ce[0],ye=Ce[1].loading,ke=Object(o.useCallback)((function(e){e.preventDefault(),Ae(d)?Ne(f)?f!==X?(N(!1),fe()):Se({email:ce,newPassword:f,token:d}):(C(!0),fe()):(I(!0),Oe())}),[X,Oe,fe,f,Se,d,ce]);return l.a.createElement(me,{className:"".concat(Q.a.emailVerification," ").concat(Q.a.forgotPasswordForm," w-100"),title:pe,subtitle:ve,content:l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerAccessCode," pv3")},l.a.createElement(ie.a,{ref:ne,token:!0,name:"token",onChange:function(e){var t=e.target.value.replace(/[^\d]/g,"").substring(0,6);m(t),I(!1),T(!1)},value:d,placeholder:null!=c?c:Object(se.a)("store/login.accessCode.placeholder",a)})),l.a.createElement(be,{show:F},Object(se.a)("store/login.invalidCode",a)),l.a.createElement(be,{show:U},Object(se.a)("store/login.wrongCode",a)),l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerPassword," pv3")},l.a.createElement(Ke,{ref:n,onStateChange:function(e){var t=e.password;O(t),C(!1)},placeholder:null!=i?i:Object(se.a)("store/login.password.placeholder",a),password:f,showPasswordVerificationIntoTooltip:t})),l.a.createElement(be,{show:w},Object(se.a)("store/login.invalidPassword",a)),l.a.createElement(be,{show:_},Object(se.a)("store/login.userBlocked",a)),l.a.createElement(be,{show:G},Object(se.a)("store/login.passwordAlreadyUsed",a)),l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerPassword," pv3")},l.a.createElement(ie.a,{type:"password",onChange:Ee,placeholder:Object(se.a)("store/login.confirmPassword",a)})),l.a.createElement(be,{show:!k},Object(se.a)("store/login.invalidMatch",a))),footer:l.a.createElement(o.Fragment,null,l.a.createElement(je,{prevStep:x}),l.a.createElement("div",{className:"".concat(Q.a.sendButton," ml-auto")},l.a.createElement(le.a,{variation:"primary",size:"small",type:"submit",isLoading:ye,disabled:!g.a.validatePassword(f),onClick:ke},l.a.createElement("span",{className:"t-small"},Object(se.a)("store/login.create",a)))))})},He=a(75),qe=a.n(He),Ge=function(e){var t=e.size,a=void 0===t?20:t;return l.a.createElement("svg",{width:a,height:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"88.428 12.828 107.543 207.085"},l.a.createElement("path",{d:"M158.232 219.912v-94.461h31.707l4.747-36.813h-36.454V65.134c0-10.658 2.96-17.922 18.245-17.922l19.494-.009V14.278c-3.373-.447-14.944-1.449-28.406-1.449-28.106 0-47.348 17.155-47.348 48.661v27.149H88.428v36.813h31.788v94.461l38.016-.001z",fill:"#3c5a9a"}))},We=function(e){var t=e.size,a=void 0===t?20:t;return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:a,height:a,viewBox:"0 0 48 48"},l.a.createElement("g",{id:"surface1"},l.a.createElement("path",{style:{fill:"#FFC107"},d:"M 43.609375 20.082031 L 42 20.082031 L 42 20 L 24 20 L 24 28 L 35.304688 28 C 33.652344 32.65625 29.222656 36 24 36 C 17.371094 36 12 30.628906 12 24 C 12 17.371094 17.371094 12 24 12 C 27.058594 12 29.84375 13.152344 31.960938 15.039063 L 37.617188 9.382813 C 34.046875 6.054688 29.269531 4 24 4 C 12.953125 4 4 12.953125 4 24 C 4 35.046875 12.953125 44 24 44 C 35.046875 44 44 35.046875 44 24 C 44 22.660156 43.863281 21.351563 43.609375 20.082031 Z "}),l.a.createElement("path",{style:{fill:"#FF3D00"},d:"M 6.304688 14.691406 L 12.878906 19.511719 C 14.65625 15.109375 18.960938 12 24 12 C 27.058594 12 29.84375 13.152344 31.960938 15.039063 L 37.617188 9.382813 C 34.046875 6.054688 29.269531 4 24 4 C 16.316406 4 9.65625 8.335938 6.304688 14.691406 Z "}),l.a.createElement("path",{style:{fill:"#4CAF50"},d:"M 24 44 C 29.164063 44 33.859375 42.023438 37.410156 38.808594 L 31.21875 33.570313 C 29.210938 35.089844 26.714844 36 24 36 C 18.796875 36 14.382813 32.683594 12.71875 28.054688 L 6.195313 33.078125 C 9.503906 39.554688 16.226563 44 24 44 Z "}),l.a.createElement("path",{style:{fill:"#1976D2"},d:"M 43.609375 20.082031 L 42 20.082031 L 42 20 L 24 20 L 24 28 L 35.304688 28 C 34.511719 30.238281 33.070313 32.164063 31.214844 33.570313 C 31.21875 33.570313 31.21875 33.570313 31.21875 33.570313 L 37.410156 38.808594 C 36.972656 39.203125 44 34 44 24 C 44 22.660156 43.863281 21.351563 43.609375 20.082031 Z "})))},Je=a(39),$e=a(40),Qe=a(42),Xe=a(43),Ye=a(28),et=a(32),tt=a.n(et);function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(Ye.a)(e);if(t){var r=Object(Ye.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(Xe.a)(this,a)}}var nt,rt,ot={Facebook:Q.a.facebookOptionBtn,Google:Q.a.googleOptionBtn},lt=function(e){Object(Qe.a)(a,e);var t=at(a);function a(){var e;return Object(Je.a)(this,a),(e=t.apply(this,arguments)).handleOAuthPopupFailure=function(t){"OAuthError"===t.code&&e.props.onOAuthError(t.details)},e}return Object($e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.intl,a=e.children,n=e.provider,o=e.onLoginSuccess;return l.a.createElement("div",{className:r()(Q.a.button,Q.a.buttonSocial,ot[n]||Q.a.customOAuthOptionBtn)},l.a.createElement(tt.a.OAuthPopup,{useNewSession:!0,provider:n,onSuccess:function(){return o()},onFailure:this.handleOAuthPopupFailure},(function(e){var r=e.loading,o=e.action;return l.a.createElement(le.a,{isLoading:r,variation:"tertiary",onClick:o},a,l.a.createElement("span",{className:"t-action--small ".concat(Q.a.oauthLabel," relative normal")},Object(se.a)("store/loginOptions.oAuth",t),l.a.createElement("span",{className:"".concat(Q.a.oauthProvider," b ml2")},n)))})))}}]),a}(o.Component),ct=Object(ee.injectIntl)(lt),it=function(e){var t;return null===(t=null==e?void 0:e.query)||void 0===t?void 0:t.error},st={AuthorizationCodeAlreadyUsed:l.a.createElement(ee.FormattedMessage,{id:"store/error.oauth.refresh"}),MissingUserEmail:l.a.createElement(ee.FormattedMessage,{id:"store/error.oauth.missingEmail"})},ut=function(e){return st[e]||l.a.createElement(ee.FormattedMessage,{id:"store/error.oauth.unknown"})},dt={Google:We,Facebook:Ge},mt=function(e){var t,a=e.className,n=e.fallbackTitle,c=e.options,i=Object(ee.useIntl)(),u=Object(s.useRuntime)(),d=Object(A.b)(),m=d.optionsTitle,b=d.providerPasswordButtonLabel,v=K(),f=v.setStep,O=v.alwaysShowLoginOptions,E=P().redirectAfterLogin,g=Object(o.useMemo)((function(){var e=it(u);return e&&ut(e)}),[u]),j=Object(o.useState)(g),h=Object(p.a)(j,2),w=h[0],C=h[1],S=Object(o.useCallback)((function(e){var t=ut(e);C(t)}),[]),y=Object(o.useCallback)((function(){return f(M)}),[f]),k=Object(o.useCallback)((function(){return f(x)}),[f]),N=Object(o.useCallback)((function(){return f(B)}),[f]),L=Object(o.useMemo)((function(){return r()(Q.a.options,a,O&&Q.a.optionsSticky)}),[a,O]);return l.a.createElement("div",{className:L},l.a.createElement(ue,null,null!=m?m:Object(se.a)(n,i)),l.a.createElement(be,{show:!!w},w),l.a.createElement("ul",{className:"".concat(Q.a.optionsList," list pa0")},l.a.createElement(o.Fragment,null,c.accessKey&&l.a.createElement("li",{className:"".concat(Q.a.optionsListItem," mb3")},l.a.createElement("div",{className:r()(Q.a.button,Q.a.accessCodeOptionBtn)},l.a.createElement(le.a,{variation:"secondary",onClick:y},l.a.createElement("span",null,Object(se.a)("store/loginOptions.emailVerification",i))))),c.password&&l.a.createElement("li",{className:"".concat(Q.a.optionsListItem," mb3")},l.a.createElement("div",{className:r()(Q.a.button,Q.a.emailPasswordOptionBtn)},l.a.createElement(le.a,{variation:"secondary",onClick:k},l.a.createElement("span",null,null!=b?b:Object(se.a)("store/loginOptions.emailAndPassword",i))))),c.corporateProviders.length>0&&l.a.createElement("li",{className:"".concat(Q.a.optionsListItem," mb3")},l.a.createElement("div",{className:r()(Q.a.button,Q.a.corporateOptionBtn)},l.a.createElement(le.a,{variation:"secondary",onClick:N},Object(se.a)("store/loginOptions.corporate",i)))),null===(t=c.oAuthProviders)||void 0===t?void 0:t.map((function(e,t){var a=e.providerName,n=dt.hasOwnProperty(a);return l.a.createElement("li",{className:"".concat(Q.a.optionsListItem," mb3"),key:"".concat(a,"-").concat(t)},l.a.createElement(ct,{provider:a,onLoginSuccess:E,onOAuthError:S},n?l.a.createElement(dt[a],null):null))}))),l.a.createElement("li",{className:"".concat(Q.a.optionsListItem," ").concat(Q.a.optionsListItemContainer," mb3")},l.a.createElement(s.ExtensionContainer,{id:"container"}))))},pt=function(){var e,t,a=Object(s.useRuntime)(),n=P().idProviders.oAuthProviders;return(null===(e=a.query)||void 0===e?void 0:e.oAuthRedirect)&&null!==(t=n.find((function(e){var t;return e.providerName===(null===(t=a.query)||void 0===t?void 0:t.oAuthRedirect)})))&&void 0!==t?t:null},bt=function(){var e=Object(s.useRuntime)(),t=Object(A.b)().blockOAuthAutoRedirect,a=pt(),n=P().idProviders,r=n.accessKey,o=n.oAuthProviders,l=n.password;return it(e)||t?[!1,null]:a?[!0,a]:r||l||1!==o.length?[!1,null]:[!0,o[0]]},vt=a(24),ft=a(22),Ot=a.n(ft),Et=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},gt=function(e){var t=e.provider,a=e.redirect,n=Object(ee.useIntl)();return Object(o.useEffect)((function(){a()}),[]),l.a.createElement("div",{className:Q.a.oauthAutoRedirect},l.a.createElement("div",{className:"w-100 flex flex-column pv5"},l.a.createElement("p",{className:"tc ph4"},n.formatMessage({id:"store/login.autoRedirect.message"},{provider:t})),l.a.createElement("div",{className:"self-center c-emphasis ".concat(Q.a.oauthAutoRedirectLoading)},l.a.createElement(Ot.a,{color:"currentColor",size:24}))))},jt=function(e){var t=e.provider,a=Et(e,["provider"]),n=Object(o.useMemo)((function(){var e=(window||{}).location,t=(e=void 0===e?{}:e).origin,a=void 0===t?"":t,n=e.search,r=void 0===n?"":n,o=e.hash,l=void 0===o?"":o;return new URL("".concat(Object(j.e)(),"/login").concat(r).concat(l),a).href}),[]);return l.a.createElement(tt.a.OAuthRedirect,{errorFallbackUrl:n,useNewSession:!0,provider:t},(function(e){var n=e.loading,r=e.action;return l.a.createElement(gt,Object(vt.a)({},a,{loading:n,provider:t,redirect:r}))}))},ht=function(){var e=Object(A.b)().termsAndConditions,t=bt(),a=Object(p.a)(t,2),n=a[0],r=a[1],o=W().alternatives;return l.a.createElement("div",{className:Q.a.loginOptionsContainer},n&&r?l.a.createElement(jt,{provider:r.providerName}):l.a.createElement(mt,{fallbackTitle:"store/loginOptions.title",options:o}),l.a.createElement("div",{className:"".concat(Q.a.termsAndConditions," t-mini c-muted-2 tc")},l.a.createElement(qe.a,{source:e})))},wt=a(54),Ct=a.n(wt),St=function(){var e=Object(o.useRef)(null),t=!!Object(s.useChildBlock)({id:j.d}),a=Object(ee.useIntl)(),n=Object(A.b)(),r=n.disabledEmailInputs,c=n.emailPlaceholder,i=n.emailAndPasswordTitle,u=n.passwordPlaceholder,b=n.identifierPlaceholder,v=n.invalidIdentifierError,f=n.showPasswordVerificationIntoTooltip,O=P(),E=O.redirectAfterLogin,g=O.returnUrl,h=O.userEmail,w=Object(o.useState)(h),C=Object(p.a)(w,2),S=C[0],y=C[1],k=Object(o.useState)(""),N=Object(p.a)(k,2),M=N[0],F=N[1],x=Object(o.useState)(!1),R=Object(p.a)(x,2),B=R[0],D=R[1],U=Object(o.useState)(!1),T=Object(p.a)(U,2),z=T[0],V=T[1],_=Object(o.useState)(!1),Z=Object(p.a)(_,2),H=Z[0],q=Z[1],G=Object(o.useState)(!1),W=Object(p.a)(G,2),J=W[0],$=W[1],X=Object(o.useState)(null),Y=Object(p.a)(X,2),te=Y[0],ae=Y[1],ne=K(),re=ne.setStep,oe=ne.alwaysShowLoginOptions,ce=ne.inputToFocusRef,ue=Object(o.useCallback)((function(){var e;null===(e=ce.current)||void 0===e||e.focus()}),[]),de=Object(o.useCallback)((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),[]),pe=Object(o.useCallback)((function(){V(!1),q(!1)}),[]),ve=Object(o.useCallback)((function(e){re(I),e.preventDefault()}),[re]),fe=Object(o.useCallback)((function(e){ue(),"WrongCredentials"===e.code?q(!0):"BlockedUser"===e.code?$(!0):console.error(e)}),[ue]),Oe=Object(o.useCallback)((function(e){ae((function(){return e}))}),[]),Ee=Ct()({onSuccess:E,onFailure:fe,scope:"STORE",parentAppId:j.c,loginAttempt:{returnUrl:g}}),ge=Object(p.a)(Ee,2),he=ge[0],we=ge[1].loading,Ce=Object(o.useCallback)((function(e){!function(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@!"]+(\.[^<>()[\]\\.,;:\s@!"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)}(e)?(D(!0),ue()):Ne(M)?he({email:e,password:M,useNewLoginAttempt:!0}):(V(!0),de())}),[ue,de,M,he]),Se=Object(o.useCallback)(function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),te){e.next=4;break}return Ce(S),e.abrupt("return");case 4:return e.next=6,te();case 6:a=e.sent,Ce(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[S,Ce,te]);return l.a.createElement(me,{className:"".concat(Q.a.emailVerification," ").concat(Q.a.emailAndPasswordForm," w-100"),title:i||Object(se.a)("store/loginOptions.emailAndPassword",a),content:l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerEmail)},t?l.a.createElement(s.ExtensionPoint,{id:j.d,identifierPlaceholder:null!=b?b:c,renderInput:function(e){var t=e.value,a=e.onChange,n=e.placeholder;return l.a.createElement(ie.a,{ref:ce,value:t,onChange:function(e){a(e),D(!1)},placeholder:n})},registerSubmitter:Oe}):l.a.createElement(ie.a,{ref:ce,value:S,disabled:r,onChange:function(e){y(e.target.value),D(!1)},placeholder:null!=c?c:Object(se.a)("store/login.email.placeholder",a)})),l.a.createElement(be,{show:B},v||Object(se.a)("store/login.invalidEmail",a)),l.a.createElement("div",{className:"".concat(Q.a.inputContainer," ").concat(Q.a.inputContainerPassword," pv3 flex flex-column")},l.a.createElement(Ke,{ref:e,password:M,onStateChange:function(e){var t=e.password;F(t),pe()},placeholder:null!=u?u:Object(se.a)("store/login.password.placeholder",a),showPasswordVerificationIntoTooltip:f})),l.a.createElement(be,{show:H||z},Object(se.a)("store/login.wrongCredentials",a)),l.a.createElement(be,{show:J},Object(se.a)("store/login.userBlocked",a)),l.a.createElement("div",{className:"".concat(Q.a.formLinkContainer," flex justify-end ph0 pv2")},l.a.createElement("a",{href:"",className:"".concat(Q.a.forgotPasswordLink," link dim c-link t-small"),onClick:ve},Object(se.a)("store/login.forgotPassword",a)))),footer:l.a.createElement(o.Fragment,null,!oe&&l.a.createElement(je,{prevStep:L}),l.a.createElement("div",{className:"".concat(Q.a.sendButton," ml-auto")},l.a.createElement(le.a,{variation:"primary",size:"small",type:"submit",isLoading:we,onClick:Se},l.a.createElement("span",{className:"t-small"},Object(se.a)("store/login.signIn",a)))))},l.a.createElement("div",{className:"".concat(Q.a.formLinkContainer," flex justify-center ph0 mt4")},l.a.createElement("a",{href:"",className:"".concat(Q.a.dontHaveAccount," link dim c-link t-small"),onClick:ve},Object(se.a)("store/login.notHaveAccount",a))))},yt=a(55),kt=a.n(yt),Pt=function(e){var t=e.prevStep,a=e.successStep,n=K().setStep,r=Object(ee.useIntl)(),c=P(),i=c.userEmail,s=c.userPhone,u=c.returnUrl,d=c.setAccessCodeDeliveryMethod,m=c.accessCodeDeliveryMethod,b=Object(o.useCallback)((function(){n(a)}),[n,a]),v=re()({optionsAsyncCallback:{onSuccess:b},scope:"STORE",parentAppId:j.c,returnUrl:u}),f=Object(p.a)(v,2),O=f[0],E=f[1],g=E.error,h=E.loading,w=Object(o.useCallback)((function(e){e.preventDefault(),O({deliveryMethod:m,useNewLoginAttempt:!1,email:i})}),[m,O,i]);return l.a.createElement(me,{className:"".concat(Q.a.selectCodeDeliveryMethod," w-100"),title:l.a.createElement(ee.FormattedMessage,{id:"store/login.selectCodeDeliveryMethod.title"}),content:l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"".concat(Q.a.deliveryMethodOptions," pv3")},l.a.createElement(kt.a,{hideBorder:!0,name:"paymentMethods",options:[{value:"email",label:r.formatMessage({id:"store/login.selectCodeDeliveryMethod.option.email"},{email:i})},{value:"sms",label:r.formatMessage({id:"store/login.selectCodeDeliveryMethod.option.sms"},{phone:s})}],value:null!=m?m:"email",onChange:function(e){return d(e.currentTarget.value)}}),l.a.createElement(be,{show:!!g},Object(se.a)("store/login.userBlocked",r)))),footer:l.a.createElement(o.Fragment,null,l.a.createElement(je,{prevStep:t}),l.a.createElement("div",{className:"".concat(Q.a.sendButton," ml-auto")},l.a.createElement(le.a,{variation:"primary",size:"small",type:"submit",isLoading:h,onClick:w},l.a.createElement("span",{className:"t-small"},l.a.createElement(ee.FormattedMessage,{id:"store/login.selectCodeDeliveryMethod.send"})))))})},Nt=(nt={},Object(Y.a)(nt,L,l.a.createElement(ht,null)),Object(Y.a)(nt,M,l.a.createElement("div",null,l.a.createElement(we,null))),Object(Y.a)(nt,F,l.a.createElement("div",null,l.a.createElement(Le,null))),Object(Y.a)(nt,x,l.a.createElement("div",null,l.a.createElement(St,null))),Object(Y.a)(nt,I,l.a.createElement("div",null,l.a.createElement(Ce,null))),Object(Y.a)(nt,R,l.a.createElement("div",null,l.a.createElement(Ze,null))),Object(Y.a)(nt,B,l.a.createElement(Me,null)),Object(Y.a)(nt,D,l.a.createElement(Pt,{prevStep:M,successStep:F})),Object(Y.a)(nt,U,l.a.createElement(Pt,{prevStep:I,successStep:R})),nt),At=(rt={},Object(Y.a)(rt,L,"loginOptions"),Object(Y.a)(rt,M,"emailVerification"),Object(Y.a)(rt,F,"codeConfirmation"),Object(Y.a)(rt,x,"emailAndPassword"),Object(Y.a)(rt,I,"beginCreatePass"),Object(Y.a)(rt,R,"recoveryPassword"),Object(Y.a)(rt,B,"corporateEmail"),Object(Y.a)(rt,D,"selectCodeDeliveryMethod"),Object(Y.a)(rt,U,"selectCodeDeliveryMethod"),rt),Lt=a(56),Mt=a.n(Lt),Ft=function(e){var t=e.children,a=C("userEmail"),n=P().returnUrl,r=T()===R,o=Mt()({scope:"STORE",parentAppId:j.c,autorun:r,actionArgs:{useNewLoginAttempt:!0,email:a},loginAttempt:{returnUrl:n}});return Object(p.a)(o,2)[1].loading?l.a.createElement("div",{"data-testid":"loading-session"},l.a.createElement(h.a,null)):l.a.createElement(l.a.Fragment,null,t)},xt=a(57),It=a.n(xt),Rt=function(e,t){var a=new URL(e),n=new URL(t),r=a.origin===n.origin,o=a.pathname===n.pathname;return r&&o},Bt=function(e){var t=e.children,a=Object(y.b)(),n=(null!=a?a:{}).isAuthenticated,r=Object(o.useMemo)((function(){return S(!1)}),[]),c=Rt(window.location.href,It()(r));return O()({autorun:n&&!c,actionArgs:{returnUrl:r}}),n?l.a.createElement("div",{"data-testid":"loading-session"},l.a.createElement(h.a,null)):l.a.createElement(l.a.Fragment,null,t)},Dt=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},Ut=function(){var e=K(),t=e.step,a=e.alwaysShowLoginOptions,n=W().amount;Object(o.useEffect)((function(){window.location.href.indexOf("accountAuthCookieName")>0&&Object(X.a)(window.location.href)}),[]);var c=Object(o.useMemo)((function(){return a&&n>0}),[n,a]),i=null!==t&&Nt[t],s=r()("".concat(Q.a.content," ").concat(null!==t&&"".concat(Q.a.content,"--").concat(At[t])," flex relative bg-base justify-around overflow-visible pa4 center"),null!==t&&c?"items-start-ns":"items-baseline-ns",a?"".concat(Q.a.contentAlwaysWithOptions," mw6-ns flex-column-reverse items-center flex-row-ns"):"items-baseline",t===L&&Q.a.contentInitialScreen),u=r()(Q.a.contentForm,"dn",null!==t&&"".concat(Q.a.contentFormVisible," db "),t!==L&&"ph4");return l.a.createElement("div",{className:s},c&&l.a.createElement(ht,null),l.a.createElement("div",{className:u},l.a.createElement(o.Suspense,{fallback:l.a.createElement(h.a,null)},i)))},Tt=function(e){var t=e.isHeaderLogin,a=Dt(e,["isHeaderLogin"]);return l.a.createElement(i.a,null,l.a.createElement(s.NoSSR,null,l.a.createElement(o.Suspense,{fallback:l.a.createElement(h.a,null)},l.a.createElement(y.a,{useLoadingState:!0},l.a.createElement(Bt,null,l.a.createElement(N,{isHeaderLogin:t},l.a.createElement(A.a,{value:Object.assign({},a)},l.a.createElement(H,null,l.a.createElement(Ft,null,l.a.createElement(Ut,null))))))))))};Tt.getSchema=function(){return Object.assign(Object.assign({title:"admin/editor.loginPage.title"},J.LoginSchema),{properties:Object.assign(Object.assign({},J.LoginSchema.properties),{isInitialScreenOptionOnly:{title:"admin/editor.login.isInitialScreenOptionOnly.title",type:"boolean",default:!0,isLayout:!0},defaultOption:{title:"admin/editor.login.defaultOption.title",type:"number",default:0,isLayout:!0,enum:[0,1,2],enumNames:["admin/editor.login.defaultOption.token","admin/editor.login.defaultOption.emailAndPassword","admin/editor.login.defaultOption.corporate"],widget:{"ui:widget":"radio","ui:options":{inline:!0}}}})})};t.default=Tt}}]);